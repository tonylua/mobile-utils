{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mobile-utils.min.js","webpack:///webpack/bootstrap 1f398f318e4a0472470e","webpack:///./src/index.js","webpack:///./src/env.js","webpack:///./src/lang.js","webpack:///./src/dom.js","webpack:///./src/format.js","webpack:///./src/event.js","webpack:///./src/time.js","webpack:///./src/url.js","webpack:///./src/utils.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","compatible","undefined","_env","_env2","_lang","_lang2","_dom","_event","_format","_time","_url","_utils","mobile_utils","env","lang","read","dom","has_class","add_class","remove_class","real_style","append_HTML","prepend_HTML","tag_range_from_HTML","event","on_tweened","on_page_loaded","on_page_rotated","listen_select_change","fake_click","is_event_on_target","format","reverse_str","step_str","knot_num","num_pad_left","limit_decimal","trim","time","date_to_YMD","getTime","today","tomorrow","yesterday","get_clean_date","dates_of_month","date_range","is_leap_year","url","query_params","URLHash","utils","check_appcache","page_to_top","write_CSS","i18n","getKey","hasClass","addClass","removeClass","getRealStyle","appendHTML","prependHTML","onPageLoaded","onPageRotated","onTweened","fakeClick","listenSelectChange","checkOffline","pageToTop","ensureNumberStringLength","getDatesOfMonth","writeCSS","getTagRangeFromHTMLStr","urlHash","_ua","navigator","userAgent","_m","_formatV","vstr","vdiv","f","split","shift","join","_break","ua","version","ios","android","windows","blackberry","weixin","wVersion","qq","qVersion","touchSupport","document","hashSupport","window","match","bb","a","b","d","k","tmpl","_len","arguments","length","args","Array","_key","rtn","substr","flagArr","realNeedLeng","filter","ele","idx","indexOf","Error","ii","replace","RegExp","clsName","test","className","querySelector","ex","re","styleName","getComputedStyle","currentStyle","style","html","insertAdjacentHTML","p_featureStr","p_html","t","eStart","eEnd","temp","tagName","closeTag","lastIndexOf","substring","lng","start","end","str","reverse","target","step","needReverse","div","nStr","toString","rst","rTarget","num","numParts","integralPart","decimalPart","formatedIntegral","fix","v","parseFloat","isNaN","toFixed","leng","zeroStr","n","callback","addEventListener","fn","e","currentTarget","removeEventListener","readyState","domId","getElementsByTagName","$a","getElementById","evt","preventDefault","createEvent","initMouseEvent","dispatchEvent","parentNode","removeChild","sel","dataset","selectedIndex","_cbk","parseInt","targetCtx","tgt","$","is","parentElement","_timezone","Date","getTimezoneOffset","_aSecond","toISOString","toLowerCase","_aMinute","_aHour","_aDay","date","getFullYear","getMonth","getDate","map","format_num","setting","offset","zeroTime","clean","from","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","setTime","p_month","p_year","setFullYear","matrix","putDay","isLastRow","push","day","i","getDay","pop","rangeNums","getToday","days","endDay","start_str","formatDate","end_str","year","currY","y","_classCallCheck","instance","Constructor","TypeError","_map2query","q","separator","u","encodeURIComponent","r","_split2","s","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","query","location","search","forEach","params","vlu","decodeURIComponent","href","hashChar","h","uArr","hash_part","sign","arr","s2","o","size","keys","values","put","Math","random","item","newMap","m2","hu","_appCache","applicationCache","support","status","UPDATEREADY","swapCache","ex1","_location","origin","pathname","hash","rnd","top","scrollTop","scrollTo","css","createElement","innerHTML","appendChild","createTextNode","styleSheet","cssText"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,kBAAAH,GACA,gBAAAC,SACAA,QAAA,gBAAAD,IAEAD,EAAA,gBAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASL,EAAQD,EAASM,GAE/B,YA2BA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAzBvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EAAQsB,WAAaC,ME7DtB,IAAAC,GAAAlB,EAAA,GFiEKmB,EAAQV,EAAuBS,GEhEpCE,EAAApB,EAAA,GFoEKqB,EAASZ,EAAuBW,GEnErCE,EAAAtB,EAAA,GASAuB,EAAAvB,EAAA,GAQAwB,EAAAxB,EAAA,GAQAyB,EAAAzB,EAAA,GAWA0B,EAAA1B,EAAA,GAIA2B,EAAA3B,EAAA,GAWI4B,GACAC,IAAAV,aACAW,MACIC,KAAAV,cAEJW,KACIC,UAAAX,EAAAW,UACAC,UAAAZ,EAAAY,UACAC,aAAAb,EAAAa,aACAC,WAAAd,EAAAc,WACAC,YAAAf,EAAAe,YACAC,aAAAhB,EAAAgB,aACAC,oBAAAjB,EAAAiB,qBAEJC,OACIC,WAAAlB,EAAAkB,WACAC,eAAAnB,EAAAmB,eACAC,gBAAApB,EAAAoB,gBACAC,qBAAArB,EAAAqB,qBACAC,WAAAtB,EAAAsB,WACAC,mBAAAvB,EAAAuB,oBAEJC,QACIC,YAAAxB,EAAAwB,YACAC,SAAAzB,EAAAyB,SACAC,SAAA1B,EAAA0B,SACAC,aAAA3B,EAAA2B,aACAC,cAAA5B,EAAA4B,cACAC,KAAA7B,EAAA6B,MAEJC,MACIC,YAAA9B,EAAA8B,YACAC,QAAA/B,EAAA+B,QACAC,MAAAhC,EAAAgC,MACAC,SAAAjC,EAAAiC,SACAC,UAAAlC,EAAAkC,UACAC,eAAAnC,EAAAmC,eACAC,eAAApC,EAAAoC,eACAC,WAAArC,EAAAqC,WACAC,aAAAtC,EAAAsC,cAEJC,KACIC,aAAAvC,EAAAuC,aACAC,QAAAxC,EAAAwC,SAEJC,OACIC,eAAAzC,EAAAyC,eACAC,YAAA1C,EAAA0C,YACAC,UAAA3C,EAAA2C,WFwCP5E,cErCckC,CAGFlC,GAAAsB,YACTuD,MACIC,OAAAnD,cAEJW,KACIyC,SAAAnD,EAAAW,UACAyC,SAAApD,EAAAY,UACAyC,YAAArD,EAAAa,aACAyC,aAAAtD,EAAAc,WACAyC,WAAAvD,EAAAe,YACAyC,YAAAxD,EAAAgB,cAEJE,OACIuC,aAAAxD,EAAAmB,eACAsC,cAAAzD,EAAAoB,gBACAsC,UAAA1D,EAAAkB,WACAyC,UAAA3D,EAAAsB,WACAsC,mBAAA5D,EAAAqB,sBAEJuB,OACIiB,aAAAzD,EAAAyC,eACAiB,UAAA1D,EAAA0C,YACAhB,KAAA7B,EAAA6B,KACAiC,yBAAA9D,EAAA2B,aACAoC,gBAAA9D,EAAAoC,eACA2B,SAAA7D,EAAA2C,UACAmB,uBAAAnE,EAAAiB,qBAEJV,IAAAV,aACAuE,QAAAhE,EAAAwC,UF2CE,SAASvE,EAAQD,GAEtB,YAEAmB,QAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GGxLZ,IACC4E,GAAMC,UAAUC,UACbC,EAAK,KACLC,EAAW,SAASC,EAAMC,GACtB,GAAIC,GAAIF,EAAKG,MAAMF,EAEnB,OADAC,GAAIA,EAAEE,QAAU,IAAMF,EAAEG,KAAK,IAClB,EAAJH,GAEXI,GAAS,EACTzE,GACI0E,GAAIZ,EACJa,QAAS,KACTC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,YAAY,EACZC,QAAQ,EACRC,SAAU,KACVC,IAAI,EACJC,SAAU,KACVC,aAAe,eAAiBC,UAChCC,eAAgB,gBAAkBC,SA+B1C,IA5BAtB,EAAKH,EAAI0B,MAAM,8BACL,MAANvB,IACAjE,EAAIgF,QAAS,EACbhF,EAAIiF,SAAWf,EAASD,EAAG,GAAI,MAGnCA,EAAKH,EAAI0B,MAAM,kBACL,MAANvB,IACAjE,EAAIkF,IAAK,EACTlF,EAAImF,SAAWjB,EAASD,EAAG,GAAI,MAGnCA,EAAKH,EAAI0B,MAAM,yCACL,MAANvB,IACAjE,EAAI4E,KAAM,EACV5E,EAAI2E,QAAUT,EAASD,EAAG,GAAI,KAC9BQ,GAAS,GAGRA,IACDR,EAAKH,EAAI0B,MAAM,kCACL,MAANvB,IACAjE,EAAI8E,SAAU,EACd9E,EAAI2E,QAAUT,EAASD,EAAG,GAAI,KAC/BQ,GAAS,KAIXA,EAAQ,CACT,GAAIgB,IACAC,EAAG5B,EAAI0B,MAAM,yCACbG,EAAG7B,EAAI0B,MAAM,6CACb9G,EAAGoF,EAAI0B,MAAM,gCACbI,EAAG9B,EAAI0B,MAAM,2CAEjB,KAAK,GAAIK,KAAKJ,GACG,MAATA,EAAGI,KACH5B,EAAKwB,EAAGI,GACR7F,EAAI+E,YAAa,EACjB/E,EAAI2E,QAAUT,EAASD,EAAG,GAAI,KAC9BQ,GAAS,GHgNpB5G,aGzLcmC,EH0LdlC,EAAOD,QAAUA,EAAQ,YAIpB,SAASC,EAAQD,GAEtB,YAEAmB,QAAOC,eAAepB,EAAS,cAC9BqB,OAAO,GIpRIrB,GAAAqC,KAAO,SAAC4F,GAAkB,OAAAC,GAAAC,UAAAC,OAATC,EAASC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAATF,EAASE,EAAA,GAAAJ,UAAAI,EACtC,IAAIC,GAAMP,EAAKQ,OAAO,EAatB,OAZIJ,GAAKD,SAAQ,WAChB,GAAIM,GAAUT,EAAKN,MAAM,WACzB,IAAIe,EAAS,CAEZ,GAAIC,GAAeD,EAAQE,OAAQ,SAACC,EAAKC,GAAN,MAAYJ,GAAQK,QAAQF,IAAMC,IAAMV,MAC3E,IAAIC,EAAKD,QAAUO,EAClB,KAAM,IAAIK,OAAJ,iBAA2Bf,EAA3B,SAAwCU,EAAxC,oBAAwEN,EAAKD,OAA7E,YAEP,KAAK,GAAIa,GAAK,EAAGA,EAAKN,EAAcM,IACnCT,EAAMA,EAAIU,QAAS,GAAIC,QAAO,MAAQF,EAAK,MAAO,KAAMZ,EAAKY,QAGzDT,IJ0SF,SAASvI,EAAQD,EAASM,GAE/B,YAEAa,QAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EAAQ6C,oBAAsB7C,EAAQ4C,aAAe5C,EAAQ2C,YAAc3C,EAAQ0C,WAAa1C,EAAQwC,UAAYxC,EAAQyC,aAAezC,EAAQuC,UAAYhB,MKrUhK,IAAAO,GAAAxB,EAAA,GAgBamC,GARAzC,EAAAuC,UAAY,SAACsG,EAAKO,GAAN,MAAmB,IAAID,QAAO,YAAcC,EAAU,YAAa,KAAMC,KAAKR,EAAIS,YAQ9FtJ,EAAAyC,aAAe,SAACoG,EAAKO,GAC9B,GAAmB,gBAARP,GACP,IACIA,EAAMrB,SAAS+B,cAAcV,GAC/B,MAAOW,IAEb,GAAIC,GAAK,GAAIN,QAAO,YAAcC,EAAU,YAAa,IACzD,KACIP,EAAIS,UAAYT,EAAIS,UAAUJ,QAAQO,EAAI,QAC5C,MAAOD,IACTC,EAAK,MASIzJ,GAAAwC,UAAY,SAACqG,EAAKO,GAC3B,GAAmB,gBAARP,GACP,IACIA,EAAMrB,SAAS+B,cAAcV,GAC/B,MAAOW,IAEb/G,EAAaoG,EAAKO,GAClBP,EAAIS,WAAY,EAAAxH,EAAA6B,MAAKkF,EAAIS,UAAY,IAAMF,IASlCpJ,EAAA0C,WAAa,WAA8B,GAA7BmG,GAA6BV,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAzB,KAAyBA,UAAA,GAAnBuB,EAAmBvB,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAT,KAASA,UAAA,EACpD,IAAKU,GAAQa,EAAb,CACA,GAAIlB,GAAM,EACV,KACIA,EAA0C,mBAA5Bd,QAAOiC,iBAClBd,EAAIe,aAAaF,GACjBhC,OAAOiC,iBAAiBd,EAAK,MAAMa,GACxC,MAAOF,GACLhB,EAAMK,EAAIgB,MAAMH,GAEpB,MAAOlB,GAAIU,QAAQ,MAAO,MASjBlJ,EAAA2C,YAAc,SAACL,EAAKwH,GAAN,MAAexH,GAAIyH,mBAAmB,YAAaD,IAQjE9J,EAAA4C,aAAe,SAACN,EAAKwH,GAAN,MAAexH,GAAIyH,mBAAmB,aAAcD,IAQnE9J,EAAA6C,oBAAsB,SAACmH,EAAcC,GAC9C,GACCC,GAAID,EAAS,GACVnJ,EAAIkJ,EACJG,EAASD,EAAEnB,QAAQjI,GACnBsJ,EAAO,KACPC,EAAO,KACPC,EAAU,KACVC,EAAW,KACX3J,EAAI,IACR,IAAIuJ,MACA,MAAO,KAMX,IAJAE,EAAOH,EAAEzB,OAAO,EAAG0B,EAASrJ,EAAEsH,QAC9B+B,EAASE,EAAKG,YAAY,KAC1BH,EAAOH,EAAEzB,OAAO0B,GAChBG,EAAUD,EAAK1C,MAAM,wBAAwB,GACzC,GAAIwB,QAAO,OAASmB,EAAU,iBAAiBjB,KAAKgB,GACpDE,EAAW,KACXH,EAAOD,EAASE,EAAKtB,QAAQwB,GAAYA,EAASnC,WAMlD,IAJAmC,EAAW,KAAOD,EAAU,IAC5BF,EAAOD,EAASE,EAAKtB,QAAQwB,GAAYA,EAASnC,OAClDiC,EAAOH,EAAEO,UAAUN,EAASG,EAAQlC,OAASiC,EAAKtB,QAAQ,KAAMqB,GAChExJ,EAAIyJ,EAAK1C,MAAM,GAAIwB,QAAO,MAAQmB,EAAU,mBAAsB,MACzD,MAAL1J,EAEA,IADA,GAAI8J,GAAM9J,EAAEwH,OACLsC,KACHN,GAAQF,EAAEzB,OAAO2B,GAAMrB,QAAQwB,GAAYA,EAASnC,MAIhE,QACIuC,MAAOR,EACPS,IAAKR,KLqVP,SAASnK,EAAQD,GAEtB,YAEAmB,QAAOC,eAAepB,EAAS,cAC7BqB,OAAO,GM7cH,IAAMiC,GAAAtD,EAAAsD,YAAc,SAAAuH,GAAA,MAAOA,GAAIpE,MAAM,IAAIqE,UAAUnE,KAAK,KAUlDpD,EAAAvD,EAAAuD,SAAW,SAACwH,GAA8C,GAAtCC,GAAsC7C,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAjC,EAAiCA,UAAA,GAA9B8C,EAA8B9C,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,IAAAA,UAAA,GAAZ+C,EAAY/C,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAR,IAAQA,UAAA,GAErEgD,EAAOJ,EAAOK,WACdC,EAAMF,EAAKjC,QAAQ,MAAO,IAC1BoC,EAAUL,EAAc3H,EAAY+H,GAAOA,EAC3C5B,EAAK,GAAIN,QAAO,MAAO6B,EAAM,KAAM,IAEpC,OADAK,GAAMC,EAAQpC,QAAQO,EAAhB,KAAyByB,GACxBD,EAAc3H,EAAY+H,GAAOA,EAQ5BrL,GAAAwD,SAAW,SAAA+H,GACvB,GACCC,GAAWD,EAAIH,WAAW3E,MAAM,KAChCgF,EAAeD,EAAS,GACxBE,EAAcF,EAASpD,OAAS,EAAIoD,EAAS,GAAK,KAClDG,EAAmBpI,EAASkI,EAAc,GAAG,EAAM,IACpD,OAAKC,GACKC,EAAV,IAA8BD,EADLC,GAUb3L,EAAA0D,cAAgB,SAAC6H,GAAe,GAAVK,GAAUzD,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAN,EAAMA,UAAA,GACxC0D,EAAIC,WAAWP,EACnB,IAAIQ,MAAMF,GACT,KAAM,IAAI7C,OAAJ,mBAA6BuC,EAA7B,mBAGP,OAAOM,GAAEG,QAAQJ,IAUL5L,EAAAyD,aAAe,SAAS8H,GAKjC,IALgD,GAAVU,GAAU9D,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAH,EAAGA,UAAA,GAE/CuC,EAAMuB,EACNC,EAAU,GACVC,EAAIZ,EAAIH,WACFV,KACNwB,GAAW,GAEZ,OAAIC,GAAE/D,OAAS6D,EACPC,EAAQzD,OAAO,EAAGwD,EAAOE,EAAE/D,QAAU+D,EACtCA,GAQEnM,EAAA2D,KAAO,SAAAkH,GAAA,MAAOA,GAAI3B,QAAQ,eAAgB,MN+djD,SAASjJ,EAAQD,EAASM,GAE/B,YAaA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAXvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EAAQoD,mBAAqBpD,EAAQkD,qBAAuBlD,EAAQmD,WAAanD,EAAQiD,gBAAkBjD,EAAQgD,eAAiBhD,EAAQ+C,WAAaxB,MOtjB1J,IAAAC,GAAAlB,EAAA,GP0jBKmB,EAAQV,EAAuBS,GOzjBpCI,EAAAtB,EAAA,EAQaN,GAAA+C,WAAa,SAACT,EAAK8J,GAAN,MACtB9J,GAAI+J,iBAAiB,sBAAuB,QAASC,GAAGC,GACpDA,EAAEC,cAAcC,oBAAoB,sBAAuBH,GAC3DF,EAASzL,KAAK,SASTX,EAAAgD,eAAiB,SAAAoJ,GAC1B,MAAI,uBAAuB/C,KAAK7B,SAASkF,gBACrCN,GAASzL,KAAK,UAGlB+G,QAAO2E,iBAAiB,mBAAoB,QAASC,GAAGC,GACpDA,EAAEC,cAAcC,oBAAoB,mBAAoBH,GACxDF,EAASzL,KAAK,SASTX,EAAAiD,gBAAkB,SAAAmJ,GAAA,MAAY1E,QAAO2E,iBAAiB,oBAAqBD,IAQ3EpM,EAAAmD,WAAa,SAACiJ,GAAgC,GAAtBO,GAAsBxE,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAhB,YAAgBA,UAAA,IACvD,EAAAvG,EAAAe,aACI6E,SAASoF,qBAAqB,QAAQ,GAD1C,oCAEwCD,EAFxC,6BAIA,IACIE,GAAKrF,SAASsF,eAAeH,GAC7BI,EAAA,MACJF,GAAGR,iBAAiB,QAAS,SAASE,GAClCA,EAAES,iBACFZ,MAEA5E,SAASyF,cACTF,EAAMvF,SAASyF,YAAY,eACvBF,EAAIG,iBACJH,EAAIG,eAAe,SAAS,GAAM,EAAMxF,OAAQ,EAAG,EAAG,EAAG,EAAG,GAAG,GAAO,GAAO,GAAO,EAAO,EAAG,MAC9FmF,EAAGM,cAAcJ,KAGzBF,EAAGO,WAAWC,YAAYR,IASjB7M,EAAAkD,qBAAuB,SAACoK,EAAKlB,GACtCkB,EAAIC,QAAJ,aAA8BD,EAAIE,aAClC,IAAIC,GAAO,SAASlB,GACZmB,SAASJ,EAAIC,QAAJ,eAAgCD,EAAIE,gBAC7CF,EAAIC,QAAJ,aAA8BD,EAAIE,cAClCpB,EAASG,IAGjBe,GAAIjB,iBAAiB,SAAUoB,GAC/BH,EAAIjB,iBAAiB,QAASoB,GAC9BH,EAAIjB,iBAAiB,OAAQoB,GACzBhM,aAAIsF,KAAOtF,aAAIqF,SAAW,GAC1BwG,EAAIjB,iBAAiB,QAASoB,IAQzBzN,EAAAoD,mBAAqB,QAArBA,GAAqBuK,GAC9B,MAAO,UAASpB,GACZ,GAAIqB,GAAMrB,EAAExB,MACZ,IAAK8C,EAAED,GAAKE,GAAGH,GAAa,OAAO,CACnC,MAA6B,OAAtBC,EAAIG,eAEP,GADAH,EAAMA,EAAIG,cACL3K,EAAmBuK,IAAY5C,OAAQ6C,IAAQ,OAAO,CAE/D,QAAO,KPokBT,SAAS3N,EAAQD,EAASM,GAE/B,YAaA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GAXvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EAAQqE,aAAerE,EAAQoE,WAAapE,EAAQmE,eAAiBnE,EAAQkE,eAAiBlE,EAAQiE,UAAYjE,EAAQgE,SAAWhE,EAAQ+D,MAAQ/D,EAAQ8D,QAAU9D,EAAQ6D,YAActC,MQhrB9L,IAAAO,GAAAxB,EAAA,GACAkB,EAAAlB,EAAA,GRqrBKmB,EAAQV,EAAuBS,GQlrBnCwM,GAAa,GAAIC,OAAMC,oBAGpBC,GAFGT,SAASM,EAAY,IACNvM,aAAIsF,KAAO,UAAUsC,KAAM,GAAI4E,OAAM,GAAIA,OAAMG,eAAgBhD,WAAWiD,eACjF,KACXC,EAAW,GAAKH,EAChBI,EAAS,GAAKD,EACdE,EAAQ,GAAKD,EAgBJzK,GARA9D,EAAA6D,YAAc,SAAC4K,GAAD,GAAOvD,GAAP/C,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAW,IAAXA,UAAA,UACtBsG,EAAKC,cAAeD,EAAKE,WAAW,EAAGF,EAAKG,WAAWC,IAAI,SAAAtD,GAAA,OAAO,EAAAzJ,EAAAgN,YAAWvD,KAAM5E,KAAKuE,IAOhFlL,EAAA8D,QAAU,WAKjB,GALkBiL,GAKlB5G,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,IAJF6G,OAAQ,EACRC,UAAU,EACVC,OAAO,EACPC,KAAM,GAAIlB,OACR9F,UAAA,GAGM6G,EAIAD,EAJAC,OACAC,EAGAF,EAHAE,SACAC,EAEAH,EAFAG,MACAC,EACAJ,EADAI,KAEJpH,EAAI,GAAIkG,MAAKkB,EAcjB,OAbID,KACAnH,EAAEqH,QAAQ,GACVrH,EAAEsH,SAAS,IAEXJ,IACAlH,EAAEuH,SAAS,GACXvH,EAAEwH,WAAW,GACbxH,EAAEyH,WAAW,GACbzH,EAAE0H,gBAAgB,IAElBT,GACAjH,EAAE2H,QAAQ3H,EAAEjE,UAAYkL,GAErBjH,IAQEhE,EAAA/D,EAAA+D,MAAQ,cAACkL,GAAD9G,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,IAAAA,UAAA,SAAmBrE,IAASmL,cAsBpC/K,GAfAlE,EAAAgE,SAAW,cAACiL,GAAD9G,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,IAAAA,UAAA,SAAmBrE,IAASmL,WAAUD,OAAQR,KAOzDxO,EAAAiE,UAAY,cAACgL,GAAD9G,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,IAAAA,UAAA,SAAmBrE,IAASmL,WAAUD,QAASR,KAQ3DxO,EAAAkE,eAAiB,WAAgD,GAA/CyL,GAA+CxH,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAvC,EAAuCA,UAAA,GAApCyH,EAAoCzH,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,IAA5B,GAAI8F,OAAMS,cAAkBvG,UAAA,GACtEJ,EAAIjE,GAASoL,OAAO,EAAMD,UAAU,GAGxC,OAFAlH,GAAE8H,YAAYD,GACd7H,EAAEsH,SAASM,GACJ5H,GASE/H,GAAAmE,eAAiB,SAACyL,GAY3B,IAAK,GAZ8BD,GAAcxH,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAN,EAAMA,UAAA,GAE7C2H,OAGAC,EAAS,SAAShI,GAAsB,GAAnBiI,KAAmB7H,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,KAAAA,UAAA,EACpC2H,GAAOA,EAAO1H,OAAS,GAAG6H,KAAU,MAALlI,EAAY,KAAOA,EAAEqG,eAC/C4B,GAAiD,GAApCF,EAAOA,EAAO1H,OAAS,GAAGA,SACxC0H,EAAOA,EAAO1H,aAGtB8H,EAAMhM,EAAeyL,EAASC,GACzBO,EAAI,EAAGzF,EAAMwF,EAAIE,SAAUD,EAAIzF,EAAKyF,IACzCJ,EAAO,KAEX,MAAOG,EAAIvB,YAAcgB,GACrBI,EAAOG,GACPA,EAAId,QAAQc,EAAItB,UAAY,EAKhC,KAHKkB,EAAOA,EAAO1H,OAAS,GAAGA,QAC3B0H,EAAOO,MAEJP,EAAOA,EAAO1H,OAAS,GAAGA,OAAS,GACtC2H,EAAO,MAAM,EAEjB,OAAOD,IASE9P,EAAAoE,WAAa,SAACkM,GAAiC,GAAtBnB,GAAsBhH,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAfoI,WAAepI,UAAA,GAEpDqI,EAAO9C,SAAS4C,GAAa9B,EAC7BiC,EAAS3M,GAASqL,OAAMH,OAAQwB,GACpC,QACI7F,MAAOwE,EACPvE,IAAK6F,EACLC,UAAWC,WAAW5M,GACtB6M,QAASD,WAAWF,KASfzQ,EAAAqE,aAAe,WAAe,GAAdwM,GAAc1I,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAT,KAASA,UAAA,GAEnC2I,GAAS,GAAI7C,OAAMS,aAIvB,OAHIqC,GAAIF,GAAQC,EAChBC,EAAIrD,SAASqD,GACThF,MAAMgF,KAAIA,EAAID,GACRC,EAAI,GAAK,GAAOA,EAAI,KAAO,GAAQA,EAAI,KAAO,EAAM,EAAI,IR6sBhE,SAAS9Q,EAAQD,GAEtB,YAUA,SAASgR,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCSnxBjH,QAASC,GAAWC,EAAGC,GACnB,GACIC,GAAIC,mBACJxJ,EAAA,OACAyJ,KACA1J,EAAIuJ,EAAYA,EAAY,GAChC,KAAKtJ,IAAKqJ,GAAGI,EAAExB,KAAKsB,EAAEvJ,GAAK,IAAMuJ,EAAEF,EAAErJ,IACrC,OAAOyJ,GAAE9K,KAAKoB,GAElB,QAAS2J,GAAQC,EAAGL,GAChB,GAAInB,GAAIwB,EAAE5I,QAAQuI,EAClB,OAAOnB,QAAWwB,EAAG,KAAOA,EAAElH,UAAU,EAAG0F,GAAIwB,EAAElH,UAAU0F,EAAI,ITgwBlEhP,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAIuQ,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAU9Q,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX6Q,SAAyB7Q,EAAI+Q,cAAgBF,OAAS,eAAkB7Q,IAEtOgR,EAAe,WAAc,QAASC,GAAiBlH,EAAQmH,GAAS,IAAK,GAAI/B,GAAI,EAAGA,EAAI+B,EAAM9J,OAAQ+H,IAAK,CAAE,GAAIgC,GAAaD,EAAM/B,EAAIgC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMnR,OAAOC,eAAe2J,EAAQoH,EAAWI,IAAKJ,IAAiB,MAAO,UAAUjB,EAAasB,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBf,EAAYwB,UAAWF,GAAiBC,GAAaR,EAAiBf,EAAauB,GAAqBvB,KS32BphBlR,GAAAuE,aAAe,WAAiD,GAAhDoO,GAAgDxK,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAxCT,OAAOkL,SAASC,OAAOpI,UAAU,GAAOtC,UAAA,EAC5E,KAAKwK,EAAO,OAAO,CAChB,IAAI3R,KAQJ,OAPH2R,GAAMlM,MAAM,KAAKqM,QAAQ,SAASC,GACjC,GACCjS,GAAIiS,EAAOtM,MAAM,KACjB8L,EAAMzR,EAAE,GACRkS,EAAMC,mBAAmBnS,EAAE,GAC5BE,GAAIuR,GAAOS,IAEFhS,GT43BIhB,ESr3BFwE,QTq3BoB,WS72B7B,QAAAA,KAAoE,GAAxD0O,GAAwD/K,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAnDT,OAAOkL,SAASM,KAAmC/K,UAAA,GAA7BgL,EAA6BhL,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAApB,IAAoBA,UAAA,GAAfmJ,EAAenJ,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,GAAL,IAAKA,UAAA,EAAA6I,GAAA5Q,KAAAoE,EAChE,IACI4O,GAAIF,EACJvB,EAAIL,EACJ+B,EAAO3B,EAAQ0B,EAAGD,GAElBG,GADYD,EAAK,GACLA,EAAK,GAGrB,IAFAjT,KAAKyO,OACLzO,KAAKmT,KAAO5B,EACR2B,EAEA,IAAK,GADDE,GAAMF,EAAU7M,MAAMkL,GACjBxB,EAAI,EAAGA,EAAIqD,EAAIpL,OAAQ+H,IAAK,CACjC,GAAIsD,GAAKD,EAAIrD,GACTuD,EAAIhC,EAAQ+B,EAAI,IACpBrT,MAAKyO,IAAI6E,EAAE,IAAMA,EAAE,GAG3BtT,KAAKuT,KAAO,WACR,MAAOvT,MAAKwT,OAAOxL,QAEvBhI,KAAKwT,KAAO,WACR,GAAI5L,KACJ,KAAK,GAAIpH,KAAKR,MAAKyO,IACN,aAALjO,GAAkBoH,EAAEiI,KAAKrP,EACjC,OAAOoH,IAEX5H,KAAKyT,OAAS,WACV,GAAIhI,KACJ,KAAK,GAAIjL,KAAKR,MAAKyO,IACN,aAALjO,GAAkBiL,EAAEoE,KAAK7P,KAAKyO,IAAIjO,GAC1C,OAAOiL,IAEXzL,KAAK0T,IAAI,YAAaC,KAAKC,UTw6B9B,MA1CAhC,GAAaxN,IACT+N,IAAK,MACLlR,MAAO,SS73BRkR,GACA,MAAOnS,MAAKyO,IAAI0D,IAAQ,QTg4BvBA,IAAK,MACLlR,MAAO,SS/3BRkR,EAAKlR,GACLjB,KAAKyO,IAAI0D,GAAOlR,KTk4BfkR,IAAK,SACLlR,MAAO,SSj4BLT,GACH,GAAiB,WAAb,mBAAOA,GAAP,YAAAgR,EAAOhR,IACP,IAAK,GAAIqT,KAAQrT,GAAGR,KAAKyO,IAAIoF,GAAQrT,EAAEqT,MTq4B1C1B,IAAK,SACLlR,MAAO,SSp4BLkR,GACH,GAAInS,KAAKyO,IAAI0D,GAAM,CACf,GAAI2B,KACJ,KAAK,GAAID,KAAQ7T,MAAKyO,IACdoF,GAAQ1B,IAAK2B,EAAOD,GAAQ7T,KAAKyO,IAAIoF,GAC7C7T,MAAKyO,IAAMqF,MTw4Bd3B,IAAK,WACLlR,MAAO,WSr4BR,GAAI8S,KACJ,KAAK,GAAIvT,KAAKR,MAAKyO,IACN,aAALjO,IAAkBuT,EAAGvT,GAAKR,KAAKyO,IAAIjO,GAC3C,OAAOwQ,GAAW+C,EAAI,QTy4BrB5B,IAAK,QACLlR,MAAO,WSv4BR,MAAO,IAAI+S,IAAG,OAAShU,KAAKgL,WAAYhL,KAAKmT,UT44BzC/O,MAqBN,SAASvE,EAAQD,GAEtB,YUz/BM,SAAS0E,KACf,GACC2P,GAAY3M,OAAO4M,iBAChBC,IAAYF,CACRE,IACLF,EAAUhI,iBAAiB,cAAe,SAAAE,GACtC,GAAI8H,EAAUG,QAAUH,EAAUI,YAAa,CAC3C,IACIJ,EAAUK,YACZ,MAAOC,IAHkC,GAAAC,GAKfhC,SAA1BiC,EALyCD,EAKzCC,OAAQC,EALiCF,EAKjCE,SAAUC,EAAnBH,EAAmBG,KACnBC,EAAMjB,KAAKC,QACZpB,UAASM,KAAT,GAAmB2B,EAASC,EAA5B,QAA4CE,EAAMD,KAEvD,GV4+BN5T,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EU9/Be0E,gBAuBH1E,GAAA2E,YAAc,WAAc,GAAbsQ,GAAa9M,UAAAC,QAAA,GAAA7G,SAAA4G,UAAA,MAAAA,UAAA,EACrCX,UAASoF,qBAAqB,QAAQ,GAAGsI,UAAYD,EACrDvN,OAAOyN,SAAS,EAAGF,IAQVjV,EAAA4E,UAAY,SAAAwQ,GACrB,GAAIzD,GAAInK,SAAS6N,cAAc,QAC/B1D,GAAE2D,UAAYF,CACd,KACIzD,EAAE4D,YAAY/N,SAASgO,eAAeJ,IACxC,MAAO5L,GACRmI,EAAE8D,WAAWC,QAAUN,EAExB5N,SAASoF,qBAAqB,QAAQ,GAAG2I,YAAY5D","file":"mobile-utils.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mobile-utils\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mobile-utils\"] = factory();\n\telse\n\t\troot[\"mobile-utils\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mobile-utils\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mobile-utils\"] = factory();\n\telse\n\t\troot[\"mobile-utils\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.compatible = undefined;\n\t\n\tvar _env = __webpack_require__(1);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _lang = __webpack_require__(2);\n\t\n\tvar _lang2 = _interopRequireDefault(_lang);\n\t\n\tvar _dom = __webpack_require__(3);\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\tvar _format = __webpack_require__(4);\n\t\n\tvar _time = __webpack_require__(6);\n\t\n\tvar _url = __webpack_require__(7);\n\t\n\tvar _utils = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * the entry point\r\n\t * @type {Object}\r\n\t */\n\t\n\tvar mobile_utils = {\n\t    env: _env2.default,\n\t    lang: {\n\t        read: _lang2.default\n\t    },\n\t    dom: {\n\t        has_class: _dom.has_class,\n\t        add_class: _dom.add_class,\n\t        remove_class: _dom.remove_class,\n\t        real_style: _dom.real_style,\n\t        append_HTML: _dom.append_HTML,\n\t        prepend_HTML: _dom.prepend_HTML,\n\t        tag_range_from_HTML: _dom.tag_range_from_HTML\n\t    },\n\t    event: {\n\t        on_tweened: _event.on_tweened,\n\t        on_page_loaded: _event.on_page_loaded,\n\t        on_page_rotated: _event.on_page_rotated,\n\t        listen_select_change: _event.listen_select_change,\n\t        fake_click: _event.fake_click,\n\t        is_event_on_target: _event.is_event_on_target\n\t    },\n\t    format: {\n\t        reverse_str: _format.reverse_str,\n\t        step_str: _format.step_str,\n\t        knot_num: _format.knot_num,\n\t        num_pad_left: _format.num_pad_left,\n\t        limit_decimal: _format.limit_decimal,\n\t        trim: _format.trim\n\t    },\n\t    time: {\n\t        date_to_YMD: _time.date_to_YMD,\n\t        getTime: _time.getTime,\n\t        today: _time.today,\n\t        tomorrow: _time.tomorrow,\n\t        yesterday: _time.yesterday,\n\t        get_clean_date: _time.get_clean_date,\n\t        dates_of_month: _time.dates_of_month,\n\t        date_range: _time.date_range,\n\t        is_leap_year: _time.is_leap_year\n\t    },\n\t    url: {\n\t        query_params: _url.query_params,\n\t        URLHash: _url.URLHash\n\t    },\n\t    utils: {\n\t        check_appcache: _utils.check_appcache,\n\t        page_to_top: _utils.page_to_top,\n\t        write_CSS: _utils.write_CSS\n\t    }\n\t};\n\texports.default = mobile_utils;\n\t\n\t//for old version only\n\t\n\tvar compatible = exports.compatible = {\n\t    i18n: {\n\t        getKey: _lang2.default\n\t    },\n\t    dom: {\n\t        hasClass: _dom.has_class,\n\t        addClass: _dom.add_class,\n\t        removeClass: _dom.remove_class,\n\t        getRealStyle: _dom.real_style,\n\t        appendHTML: _dom.append_HTML,\n\t        prependHTML: _dom.prepend_HTML\n\t    },\n\t    event: {\n\t        onPageLoaded: _event.on_page_loaded,\n\t        onPageRotated: _event.on_page_rotated,\n\t        onTweened: _event.on_tweened,\n\t        fakeClick: _event.fake_click,\n\t        listenSelectChange: _event.listen_select_change\n\t    },\n\t    utils: {\n\t        checkOffline: _utils.check_appcache,\n\t        pageToTop: _utils.page_to_top,\n\t        trim: _format.trim,\n\t        ensureNumberStringLength: _format.num_pad_left,\n\t        getDatesOfMonth: _time.dates_of_month,\n\t        writeCSS: _utils.write_CSS,\n\t        getTagRangeFromHTMLStr: _dom.tag_range_from_HTML\n\t    },\n\t    env: _env2.default,\n\t    urlHash: _url.URLHash\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar _ua = navigator.userAgent,\n\t    _m = null,\n\t    _formatV = function _formatV(vstr, vdiv) {\n\t    var f = vstr.split(vdiv);\n\t    f = f.shift() + '.' + f.join('');\n\t    return f * 1;\n\t},\n\t    _break = false,\n\t    env = {\n\t    ua: _ua,\n\t    version: null,\n\t    ios: false,\n\t    android: false,\n\t    windows: false,\n\t    blackberry: false,\n\t    weixin: false,\n\t    wVersion: null,\n\t    qq: false,\n\t    qVersion: null,\n\t    touchSupport: 'createTouch' in document,\n\t    hashSupport: !!('onhashchange' in window)\n\t};\n\t\n\t_m = _ua.match(/MicroMessenger\\/([\\.0-9]+)/);\n\tif (_m != null) {\n\t    env.weixin = true;\n\t    env.wVersion = _formatV(_m[1], '.');\n\t}\n\t\n\t_m = _ua.match(/QQ\\/([\\d\\.]+)$/);\n\tif (_m != null) {\n\t    env.qq = true;\n\t    env.qVersion = _formatV(_m[1], '.');\n\t}\n\t\n\t_m = _ua.match(/i(Pod|Pad|Phone)\\;?.*\\sOS\\s([\\_0-9]+)/);\n\tif (_m != null) {\n\t    env.ios = true;\n\t    env.version = _formatV(_m[2], '_');\n\t    _break = true;\n\t}\n\t\n\tif (!_break) {\n\t    _m = _ua.match(/Windows\\sPhone\\sOS\\s([\\.0-9]+)/);\n\t    if (_m != null) {\n\t        env.windows = true;\n\t        env.version = _formatV(_m[1], '.');\n\t        _break = true;\n\t    }\n\t}\n\t\n\tif (!_break) {\n\t    var bb = {\n\t        a: _ua.match(/\\(BB1\\d+\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\n\t        b: _ua.match(/\\(BlackBerry\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\n\t        c: _ua.match(/^BlackBerry\\d+\\/([\\.0-9]+)\\s/),\n\t        d: _ua.match(/\\(PlayBook\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/)\n\t    };\n\t    for (var k in bb) {\n\t        if (bb[k] != null) {\n\t            _m = bb[k];\n\t            env.blackberry = true;\n\t            env.version = _formatV(_m[1], '.');\n\t            _break = true;\n\t        }\n\t    }\n\t}\n\t\n\t/**\r\n\t * 获取移动设备型号版本等环境信息\r\n\t * @type {Object}\r\n\t * @default {\r\n\t        ua,\r\n\t        version,\r\n\t        ios,\r\n\t        android,\r\n\t        windows,\r\n\t        blackberry,\r\n\t        weixin,\r\n\t        wVersion,\r\n\t        qq,\r\n\t        qVersion,\r\n\t        touchSupport,\r\n\t        hashSupport\r\n\t    }\r\n\t */\n\texports.default = env;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t/**\r\n\t * 获取基于模板的文本值\r\n\t * @param  {String} tmpl - 文本模板，格式为 'hello{0},world{1}'\r\n\t * @param  {...String} args - 用于替换的若干参数\r\n\t * @return {String}\r\n\t */\n\tvar read = exports.read = function read(tmpl) {\n\t\tfor (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\targs[_key - 1] = arguments[_key];\n\t\t}\n\t\n\t\tvar rtn = tmpl.substr(0);\n\t\tif (args.length) {\n\t\t\t(function () {\n\t\t\t\tvar flagArr = tmpl.match(/\\{\\d+\\}/g); //{1},{0},{2}...\n\t\t\t\tif (flagArr) {\n\t\t\t\t\t//剔除数组重复项用\n\t\t\t\t\tvar realNeedLeng = flagArr.filter(function (ele, idx) {\n\t\t\t\t\t\treturn flagArr.indexOf(ele) == idx;\n\t\t\t\t\t}).length;\n\t\t\t\t\tif (args.length != realNeedLeng) {\n\t\t\t\t\t\tthrow new Error(\"[i18n] Error: \" + tmpl + \" need \" + realNeedLeng + \" parameters, but \" + args.length + \" received\");\n\t\t\t\t\t}\n\t\t\t\t\tfor (var ii = 0; ii < realNeedLeng; ii++) {\n\t\t\t\t\t\trtn = rtn.replace(new RegExp(\"\\\\{\" + ii + \"\\\\}\", \"g\"), args[ii]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})();\n\t\t}\n\t\treturn rtn;\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.tag_range_from_HTML = exports.prepend_HTML = exports.append_HTML = exports.real_style = exports.add_class = exports.remove_class = exports.has_class = undefined;\n\t\n\tvar _format = __webpack_require__(4);\n\t\n\t/**\r\n\t * 判断元素是否有指定className\r\n\t * @param  {Element} ele\r\n\t * @param  {String} clsName\r\n\t * @return {Boolean}\r\n\t */\n\tvar has_class = exports.has_class = function has_class(ele, clsName) {\n\t    return new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g').test(ele.className);\n\t};\n\t\n\t/**\r\n\t * 删除className\r\n\t * @param  {Element} ele\r\n\t * @param  {String} clsName\r\n\t * @return {void}\r\n\t */\n\tvar remove_class = exports.remove_class = function remove_class(ele, clsName) {\n\t    if (typeof ele === 'string') {\n\t        try {\n\t            ele = document.querySelector(ele);\n\t        } catch (ex) {}\n\t    }\n\t    var re = new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g');\n\t    try {\n\t        ele.className = ele.className.replace(re, \"$1$3\");\n\t    } catch (ex) {}\n\t    re = null;\n\t};\n\t\n\t/**\r\n\t * 添加className\r\n\t * @param  {Element} ele\r\n\t * @param  {String} clsName\r\n\t * @return {void}\r\n\t */\n\tvar add_class = exports.add_class = function add_class(ele, clsName) {\n\t    if (typeof ele === 'string') {\n\t        try {\n\t            ele = document.querySelector(ele);\n\t        } catch (ex) {}\n\t    }\n\t    remove_class(ele, clsName);\n\t    ele.className = (0, _format.trim)(ele.className + ' ' + clsName);\n\t};\n\t\n\t/**\r\n\t * 获取计算样式\r\n\t * @param  {Element} [ele=null] - 目标元素\r\n\t * @param  {String} [styleName=null] - 样式名\r\n\t * @return {String}\r\n\t */\n\tvar real_style = exports.real_style = function real_style() {\n\t    var ele = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\t    var styleName = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t\n\t    if (!ele || !styleName) return;\n\t    var rtn = '';\n\t    try {\n\t        rtn = typeof window.getComputedStyle == 'undefined' ? ele.currentStyle[styleName] : window.getComputedStyle(ele, null)[styleName];\n\t    } catch (ex) {\n\t        rtn = ele.style[styleName];\n\t    }\n\t    return rtn.replace(/px$/, '');\n\t};\n\t\n\t/**\r\n\t * 在制定元素内的最末插入html\r\n\t * @param  {Element} dom\r\n\t * @param  {String} html\r\n\t * @return {void}\r\n\t */\n\tvar append_HTML = exports.append_HTML = function append_HTML(dom, html) {\n\t    return dom.insertAdjacentHTML('beforeEnd', html);\n\t};\n\t\n\t/**\r\n\t * 在制定元素内的开始插入html\r\n\t * @param  {Element} dom\r\n\t * @param  {String} html\r\n\t * @return {void}\r\n\t */\n\tvar prepend_HTML = exports.prepend_HTML = function prepend_HTML(dom, html) {\n\t    return dom.insertAdjacentHTML('afterBegin', html);\n\t};\n\t\n\t/**\r\n\t * 根据特征值找到一段html中其所在的tag范围\r\n\t * @param  {String} p_featureStr - 特征值\r\n\t * @param  {String} p_html - 作为查找范围的html\r\n\t * @return {Object} {start, end}\r\n\t */\n\tvar tag_range_from_HTML = exports.tag_range_from_HTML = function tag_range_from_HTML(p_featureStr, p_html) {\n\t    var t = p_html + '',\n\t        p = p_featureStr,\n\t        eStart = t.indexOf(p),\n\t        eEnd = null,\n\t        temp = null,\n\t        tagName = null,\n\t        closeTag = null,\n\t        m = null;\n\t    if (eStart == -1) {\n\t        return null;\n\t    }\n\t    temp = t.substr(0, eStart + p.length);\n\t    eStart = temp.lastIndexOf('<');\n\t    temp = t.substr(eStart);\n\t    tagName = temp.match(/^\\<([a-zA-Z]+)[\\s\\>]/)[1];\n\t    if (new RegExp('^\\\\<' + tagName + '[^\\\\>]*\\\\/\\\\>').test(temp)) {\n\t        /* 直接关闭 <tag /> */\n\t        closeTag = '/>';\n\t        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\n\t    } else {\n\t        closeTag = '</' + tagName + '>';\n\t        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\n\t        temp = t.substring(eStart + tagName.length + temp.indexOf('>'), eEnd);\n\t        m = temp.match(new RegExp('\\\\<' + tagName + '[^\\/\\>]*[^\\\\/]?\\\\>', 'g'));\n\t        if (m != null) {\n\t            /*是否嵌套了相同元素*/\n\t            var lng = m.length;\n\t            while (lng--) {\n\t                eEnd += t.substr(eEnd).indexOf(closeTag) + closeTag.length;\n\t            }\n\t        }\n\t    }\n\t    return {\n\t        start: eStart,\n\t        end: eEnd\n\t    };\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * 字符串反转\r\n\t * @param  {String} str\r\n\t * @return {String}\r\n\t */\n\tvar reverse_str = exports.reverse_str = function reverse_str(str) {\n\t  return str.split('').reverse().join('');\n\t};\n\t\n\t/**\r\n\t * 格式化手机号等，按位插入分隔符\r\n\t * @param  {Number|String} target - 目标数字或字符串\r\n\t * @param  {Number} [step=4] - 插入分隔符的相隔位数\r\n\t * @param  {Boolean} [needReverse=true] - 是否要从右向左进行插入\r\n\t * @param  {String} [div=\" \"] - 分隔符\r\n\t * @return {String}\r\n\t */\n\tvar step_str = exports.step_str = function step_str(target) {\n\t  var step = arguments.length <= 1 || arguments[1] === undefined ? 4 : arguments[1];\n\t  var needReverse = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\t  var div = arguments.length <= 3 || arguments[3] === undefined ? \" \" : arguments[3];\n\t\n\t  var nStr = target.toString(),\n\t      rst = nStr.replace(/\\s/g, ''),\n\t      rTarget = needReverse ? reverse_str(rst) : rst,\n\t      re = new RegExp('(.{' + step + '})', 'g');\n\t  rst = rTarget.replace(re, '$1' + div);\n\t  return needReverse ? reverse_str(rst) : rst;\n\t};\n\t\n\t/**\r\n\t * 添加千分位的数字分结号\r\n\t * @param  {Number} num\r\n\t * @return {String}\r\n\t */\n\tvar knot_num = exports.knot_num = function knot_num(num) {\n\t  var numParts = num.toString().split('.'),\n\t      integralPart = numParts[0],\n\t      decimalPart = numParts.length > 1 ? numParts[1] : null,\n\t      formatedIntegral = step_str(integralPart, 3, true, ',');\n\t  if (!decimalPart) return formatedIntegral;\n\t  return formatedIntegral + '.' + decimalPart;\n\t};\n\t\n\t/**\r\n\t * 限制小数位\r\n\t * @param  {Number} num\r\n\t * @param  {Number} [fix=2]\r\n\t * @return {String}\r\n\t */\n\tvar limit_decimal = exports.limit_decimal = function limit_decimal(num) {\n\t  var fix = arguments.length <= 1 || arguments[1] === undefined ? 2 : arguments[1];\n\t\n\t  var v = parseFloat(num);\n\t  if (isNaN(v)) {\n\t    throw new Error('[limit_decimal] ' + num + ' is not a number');\n\t    return '';\n\t  }\n\t  return v.toFixed(fix);\n\t};\n\t\n\t/**\r\n\t * 补全数字左侧的0\r\n\t * @param  {Number} num - 目标数字\r\n\t * @param  {Number} [leng=2] - 最终位数\r\n\t * @return {String}\r\n\t */\n\tvar num_pad_left = exports.num_pad_left = function num_pad_left(num) {\n\t  var leng = arguments.length <= 1 || arguments[1] === undefined ? 2 : arguments[1];\n\t\n\t  var lng = leng,\n\t      zeroStr = '',\n\t      n = num.toString();\n\t  while (lng--) {\n\t    zeroStr += '0';\n\t  }\n\t  if (n.length < leng) return zeroStr.substr(0, leng - n.length) + n;\n\t  return n;\n\t};\n\t\n\t/**\r\n\t * 去首尾空格\r\n\t * @param  {String} str\r\n\t * @return {String}\r\n\t */\n\tvar trim = exports.trim = function trim(str) {\n\t  return str.replace(/(^\\s+|\\s+$)/g, '');\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.is_event_on_target = exports.listen_select_change = exports.fake_click = exports.on_page_rotated = exports.on_page_loaded = exports.on_tweened = undefined;\n\t\n\tvar _env = __webpack_require__(1);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _dom = __webpack_require__(3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * 监听CSS3 transition动画结束\r\n\t * @param  {Element} dom\r\n\t * @param  {Function} callback\r\n\t * @return {void}\r\n\t */\n\tvar on_tweened = exports.on_tweened = function on_tweened(dom, callback) {\n\t    return dom.addEventListener('webkitTransitionEnd', function fn(e) {\n\t        e.currentTarget.removeEventListener('webkitTransitionEnd', fn);\n\t        callback.call(null);\n\t    });\n\t};\n\t\n\t/**\r\n\t * 监听页面加载\r\n\t * @description 如果监听时已加载则直接执行回调\r\n\t * @param  {Function} callback\r\n\t * @return {void}\r\n\t */\n\tvar on_page_loaded = exports.on_page_loaded = function on_page_loaded(callback) {\n\t    if (/interactive|complete/.test(document.readyState)) {\n\t        callback.call(null); /*已加载过，直接执行*/\n\t        return;\n\t    }\n\t    window.addEventListener('DOMContentLoaded', function fn(e) {\n\t        e.currentTarget.removeEventListener('DOMContentLoaded', fn);\n\t        callback.call(null);\n\t    });\n\t};\n\t\n\t/**\r\n\t * 监听设备方向改变\r\n\t * @param  {Function} callback\r\n\t * @return {void}\r\n\t */\n\tvar on_page_rotated = exports.on_page_rotated = function on_page_rotated(callback) {\n\t    return window.addEventListener('orientationchange', callback);\n\t};\n\t\n\t/**\r\n\t * 模拟点击事件\r\n\t * @param  {Function} callback - 回调函数\r\n\t * @param  {String} [domId='fakeClick'] - 模拟载体元素的id\r\n\t * @return {void}\r\n\t */\n\tvar fake_click = exports.fake_click = function fake_click(callback) {\n\t    var domId = arguments.length <= 1 || arguments[1] === undefined ? 'fakeClick' : arguments[1];\n\t\n\t    (0, _dom.append_HTML)(document.getElementsByTagName('body')[0], '<a href=\"javascript:void(0)\" id=\"' + domId + '\" style=\"opacity:.01\"></a>');\n\t    var $a = document.getElementById(domId),\n\t        evt = void 0;\n\t    $a.addEventListener(\"click\", function (e) {\n\t        e.preventDefault();\n\t        callback();\n\t    });\n\t    if (document.createEvent) {\n\t        evt = document.createEvent(\"MouseEvents\");\n\t        if (evt.initMouseEvent) {\n\t            evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\t            $a.dispatchEvent(evt);\n\t        }\n\t    }\n\t    $a.parentNode.removeChild($a);\n\t};\n\t\n\t/**\r\n\t * 兼容性的监听select更改事件\r\n\t * @param  {Element} sel - 目标select元素\r\n\t * @param  {Function} callback - 回调函数\r\n\t * @return {void}\r\n\t */\n\tvar listen_select_change = exports.listen_select_change = function listen_select_change(sel, callback) {\n\t    sel.dataset['lisOldselidx'] = sel.selectedIndex;\n\t    var _cbk = function _cbk(e) {\n\t        if (parseInt(sel.dataset['lisOldselidx']) != sel.selectedIndex) {\n\t            sel.dataset['lisOldselidx'] = sel.selectedIndex;\n\t            callback(e);\n\t        }\n\t    };\n\t    sel.addEventListener('change', _cbk);\n\t    sel.addEventListener('focus', _cbk);\n\t    sel.addEventListener('blur', _cbk);\n\t    if (_env2.default.ios && _env2.default.version >= 7) {\n\t        sel.addEventListener('click', _cbk);\n\t    }\n\t};\n\t\n\t/**\r\n\t * 判断时间是否发生在制定元素范围内\r\n\t * @return {Boolean}\r\n\t */\n\tvar is_event_on_target = exports.is_event_on_target = function is_event_on_target(targetCtx) {\n\t    return function (e) {\n\t        var tgt = e.target;\n\t        if ($(tgt).is(targetCtx)) return true;\n\t        while (tgt.parentElement !== null) {\n\t            tgt = tgt.parentElement;\n\t            if (is_event_on_target(targetCtx)({ target: tgt })) return true;\n\t        }\n\t        return false;\n\t    };\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.is_leap_year = exports.date_range = exports.dates_of_month = exports.get_clean_date = exports.yesterday = exports.tomorrow = exports.today = exports.getTime = exports.date_to_YMD = undefined;\n\t\n\tvar _format = __webpack_require__(4);\n\t\n\tvar _env = __webpack_require__(1);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _timezone = new Date().getTimezoneOffset(),\n\t    _tz = parseInt(_timezone / 60),\n\t    _testDateIOSTrans = _env2.default.ios || /invalid/.test(new Date(new Date().toISOString()).toString().toLowerCase()),\n\t    _aSecond = 1000,\n\t    _aMinute = 60 * _aSecond,\n\t    _aHour = 60 * _aMinute,\n\t    _aDay = 24 * _aHour;\n\t\n\t/**\r\n\t * 将字符串转化为yyyymmdd格式\r\n\t * @param  {Date} date - 目标时间\r\n\t * @param  {String} [div='-'] - 分隔符\r\n\t * @return {String}\r\n\t */\n\tvar date_to_YMD = exports.date_to_YMD = function date_to_YMD(date) {\n\t    var div = arguments.length <= 1 || arguments[1] === undefined ? '-' : arguments[1];\n\t    return [date.getFullYear(), date.getMonth() + 1, date.getDate()].map(function (num) {\n\t        return (0, _format.format_num)(num);\n\t    }).join(div);\n\t};\n\t\n\t/**\r\n\t * 取得某个时间\r\n\t * @param  {Object} [setting] - {偏移值 offset, 基准时间 from, 是否置为0点 zeroTime, 是否置为1月1日 clean}\r\n\t * @return {Date}\r\n\t */\n\tvar getTime = exports.getTime = function getTime() {\n\t    var setting = arguments.length <= 0 || arguments[0] === undefined ? {\n\t        offset: 0,\n\t        zeroTime: false,\n\t        clean: false,\n\t        from: new Date()\n\t    } : arguments[0];\n\t    var offset = setting.offset;\n\t    var zeroTime = setting.zeroTime;\n\t    var clean = setting.clean;\n\t\n\t    var from = setting.from;\n\t    var d = new Date(from);\n\t    if (clean) {\n\t        d.setDate(1); /*注意顺序 否则2月可能在遇到30号时出错*/\n\t        d.setMonth(0);\n\t    }\n\t    if (zeroTime) {\n\t        d.setHours(0);\n\t        d.setMinutes(0);\n\t        d.setSeconds(0);\n\t        d.setMilliseconds(0);\n\t    }\n\t    if (offset) {\n\t        d.setTime(d.getTime() + offset);\n\t    }\n\t    return d;\n\t};\n\t\n\t/**\r\n\t * 取得当天\r\n\t * @param  {Boolean} [zeroTime=true] - 是否置为0点\r\n\t * @return {Date}\r\n\t */\n\tvar today = exports.today = function today() {\n\t    var zeroTime = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\t    return getTime({ zeroTime: zeroTime });\n\t};\n\t\n\t/**\r\n\t * 取得明天\r\n\t * @param  {Boolean} [zeroTime=true] - 是否置为0点\r\n\t * @return {Date}\r\n\t */\n\tvar tomorrow = exports.tomorrow = function tomorrow() {\n\t    var zeroTime = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\t    return getTime({ zeroTime: zeroTime, offset: _aDay });\n\t};\n\t\n\t/**\r\n\t * 取得昨天\r\n\t * @param  {Boolean} [zeroTime=true] - 是否置为0点\r\n\t * @return {Date}\r\n\t */\n\tvar yesterday = exports.yesterday = function yesterday() {\n\t    var zeroTime = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\t    return getTime({ zeroTime: zeroTime, offset: -_aDay });\n\t};\n\t\n\t/**\r\n\t * 取得一个某年某月1号0时的干净日期\r\n\t * @param  {Number} [p_month=0]\r\n\t * @param  {Number} [p_year=今年]\r\n\t * @return {Date}\r\n\t */\n\tvar get_clean_date = exports.get_clean_date = function get_clean_date() {\n\t    var p_month = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\t    var p_year = arguments.length <= 1 || arguments[1] === undefined ? new Date().getFullYear() : arguments[1];\n\t\n\t    var d = getTime({ clean: true, zeroTime: true });\n\t    d.setFullYear(p_year);\n\t    d.setMonth(p_month);\n\t    return d;\n\t};\n\t\n\t/**\r\n\t * 取得某月中的日期\r\n\t * @param  {Number} p_year\r\n\t * @param  {Number} [p_month=0]\r\n\t * @return {Array} 星期-日期 的二维数组\r\n\t */\n\tvar dates_of_month = exports.dates_of_month = function dates_of_month(p_year) {\n\t    var p_month = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t\n\t    var matrix = [[]],\n\t        putDay = function putDay(d) {\n\t        var isLastRow = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t        matrix[matrix.length - 1].push(d == null ? null : d.toISOString());\n\t        if (!isLastRow && matrix[matrix.length - 1].length == 7) {\n\t            matrix[matrix.length] = [];\n\t        }\n\t    },\n\t        day = get_clean_date(p_month, p_year);\n\t    for (var i = 0, lng = day.getDay(); i < lng; i++) {\n\t        putDay(null);\n\t    }\n\t    while (day.getMonth() == p_month) {\n\t        putDay(day);\n\t        day.setDate(day.getDate() + 1);\n\t    }\n\t    if (!matrix[matrix.length - 1].length) {\n\t        matrix.pop();\n\t    }\n\t    while (matrix[matrix.length - 1].length < 7) {\n\t        putDay(null, true);\n\t    }\n\t    return matrix;\n\t};\n\t\n\t/**\r\n\t * 取得开始-结束的日期范围\r\n\t * @param  {Number} rangeNums - 开始到结束的天数\r\n\t * @param  {Date} [from=今天] - 基准日期\r\n\t * @return {Object}\r\n\t */\n\tvar date_range = exports.date_range = function date_range(rangeNums) {\n\t    var from = arguments.length <= 1 || arguments[1] === undefined ? getToday() : arguments[1];\n\t\n\t    var days = parseInt(rangeNums) * _aDay,\n\t        endDay = getTime({ from: from, offset: days });\n\t    return {\n\t        start: from,\n\t        end: endDay,\n\t        start_str: formatDate(today),\n\t        end_str: formatDate(endDay)\n\t    };\n\t};\n\t\n\t/**\r\n\t * 是否闰年\r\n\t * @param  {Number} [year=null] 年份\r\n\t * @return {Boolean}\r\n\t */\n\tvar is_leap_year = exports.is_leap_year = function is_leap_year() {\n\t    var year = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\t\n\t    var currY = new Date().getFullYear();\n\t    y = year || currY;\n\t    y = parseInt(y);\n\t    if (isNaN(y)) y = currY;\n\t    return y % 4 == 0 && y % 100 != 0 || y % 400 == 0 ? 1 : 0;\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * 将query字符串转换为object\r\n\t * @param  {String} [query=当前url的query] 给定的query字符串\r\n\t * @return {Object}\r\n\t */\n\tvar query_params = exports.query_params = function query_params() {\n\t    var query = arguments.length <= 0 || arguments[0] === undefined ? window.location.search.substring(1) : arguments[0];\n\t\n\t    if (!query) return false;\n\t    var obj = {};\n\t    query.split('&').forEach(function (params) {\n\t        var p = params.split('='),\n\t            key = p[0],\n\t            vlu = decodeURIComponent(p[1]);\n\t        obj[key] = vlu;\n\t    });\n\t    return obj;\n\t};\n\t\n\t/**\r\n\t * 将hash部分转化为object\r\n\t */\n\t\n\tvar URLHash = exports.URLHash = function () {\n\t    /**\r\n\t     * @constructor\r\n\t     * @param  {String} [href=当前URL的hash]\r\n\t     * @param  {String} [hashChar='#']\r\n\t     * @param  {String} [separator=\"&\"]\r\n\t     * @return {Object}\r\n\t     */\n\t\n\t    function URLHash() {\n\t        var href = arguments.length <= 0 || arguments[0] === undefined ? window.location.href : arguments[0];\n\t        var hashChar = arguments.length <= 1 || arguments[1] === undefined ? '#' : arguments[1];\n\t        var separator = arguments.length <= 2 || arguments[2] === undefined ? \"&\" : arguments[2];\n\t\n\t        _classCallCheck(this, URLHash);\n\t\n\t        var h = href,\n\t            s = separator,\n\t            uArr = _split2(h, hashChar),\n\t            href_part = uArr[0],\n\t            hash_part = uArr[1];\n\t        this.map = {};\n\t        this.sign = s;\n\t        if (hash_part) {\n\t            var arr = hash_part.split(s);\n\t            for (var i = 0; i < arr.length; i++) {\n\t                var s2 = arr[i];\n\t                var o = _split2(s2, '=');\n\t                this.map[o[0]] = o[1];\n\t            }\n\t        }\n\t        this.size = function () {\n\t            return this.keys().length;\n\t        };\n\t        this.keys = function () {\n\t            var k = [];\n\t            for (var m in this.map) {\n\t                if (m != '_hashfoo_') k.push(m);\n\t            }return k;\n\t        };\n\t        this.values = function () {\n\t            var v = [];\n\t            for (var m in this.map) {\n\t                if (m != '_hashfoo_') v.push(this.map[m]);\n\t            }return v;\n\t        };\n\t        this.put('_hashfoo_', Math.random());\n\t    } //end of constructor\n\t\n\t    _createClass(URLHash, [{\n\t        key: 'get',\n\t        value: function get(key) {\n\t            return this.map[key] || null;\n\t        }\n\t    }, {\n\t        key: 'put',\n\t        value: function put(key, value) {\n\t            this.map[key] = value;\n\t        }\n\t    }, {\n\t        key: 'putAll',\n\t        value: function putAll(m) {\n\t            if ((typeof m === 'undefined' ? 'undefined' : _typeof(m)) == 'object') for (var item in m) {\n\t                this.map[item] = m[item];\n\t            }\n\t        }\n\t    }, {\n\t        key: 'remove',\n\t        value: function remove(key) {\n\t            if (this.map[key]) {\n\t                var newMap = {};\n\t                for (var item in this.map) {\n\t                    if (item != key) newMap[item] = this.map[item];\n\t                }this.map = newMap;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'toString',\n\t        value: function toString() {\n\t            var m2 = {};\n\t            for (var m in this.map) {\n\t                if (m != '_hashfoo_') m2[m] = this.map[m];\n\t            }return _map2query(m2, \"&\");\n\t        }\n\t    }, {\n\t        key: 'clone',\n\t        value: function clone() {\n\t            return new hu('foo#' + this.toString(), this.sign);\n\t        }\n\t    }]);\n\t\n\t    return URLHash;\n\t}();\n\t\n\t;\n\t\n\tfunction _map2query(q, separator) {\n\t    var u = encodeURIComponent,\n\t        k = void 0,\n\t        r = [],\n\t        d = separator ? separator : '&';\n\t    for (k in q) {\n\t        r.push(u(k) + '=' + u(q[k]));\n\t    }return r.join(d);\n\t}\n\tfunction _split2(s, separator) {\n\t    var i = s.indexOf(separator);\n\t    return i == -1 ? [s, ''] : [s.substring(0, i), s.substring(i + 1)];\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.check_appcache = check_appcache;\n\t/**\r\n\t * 检查并监听applicationCache的更新情况\r\n\t * @return {void}\r\n\t */\n\tfunction check_appcache() {\n\t    var _appCache = window.applicationCache,\n\t        support = !!_appCache;\n\t    if (!support) return;\n\t    _appCache.addEventListener(\"updateready\", function (e) {\n\t        if (_appCache.status == _appCache.UPDATEREADY) {\n\t            try {\n\t                _appCache.swapCache();\n\t            } catch (ex1) {}\n\t            var _location = location;\n\t            var origin = _location.origin;\n\t            var pathname = _location.pathname;\n\t\n\t            var hash = _location.hash;\n\t            var rnd = Math.random();\n\t            location.href = '' + origin + pathname + '?rnd=' + rnd + hash;\n\t        }\n\t    }, false);\n\t}\n\t\n\t/**\r\n\t * 将页面移动至指定位置\r\n\t * @param  {Number} [top]\r\n\t * @return {void}\r\n\t */\n\tvar page_to_top = exports.page_to_top = function page_to_top() {\n\t    var top = arguments.length <= 0 || arguments[0] === undefined ? -1 : arguments[0];\n\t\n\t    document.getElementsByTagName('body')[0].scrollTop = top;\n\t    window.scrollTo(0, top);\n\t};\n\t\n\t/**\r\n\t * 在页面中动态写入css\r\n\t * @param  {String} css字符串\r\n\t * @return {void}\r\n\t */\n\tvar write_CSS = exports.write_CSS = function write_CSS(css) {\n\t    var s = document.createElement('style');\n\t    s.innerHTML = css;\n\t    try {\n\t        s.appendChild(document.createTextNode(css));\n\t    } catch (ex) {\n\t        s.styleSheet.cssText = css;\n\t    }\n\t    document.getElementsByTagName('head')[0].appendChild(s);\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** mobile-utils.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1f398f318e4a0472470e\n **/","import env from './env';\r\nimport read from './lang';\r\nimport {\r\n\thas_class,\r\n\tadd_class,\r\n\tremove_class,\r\n\treal_style,\r\n\tappend_HTML,\r\n\tprepend_HTML,\r\n\ttag_range_from_HTML,\r\n} from './dom';\r\nimport {\r\n\ton_tweened,\r\n\ton_page_loaded,\r\n\ton_page_rotated,\r\n\tlisten_select_change,\r\n\tfake_click,\r\n    is_event_on_target,\r\n} from './event';\r\nimport {\r\n\treverse_str,\r\n\tstep_str,\r\n\tknot_num,\r\n\tlimit_decimal,\r\n\tnum_pad_left,\r\n\ttrim,\r\n} from './format';\r\nimport {\r\n\tdate_to_YMD,\r\n\tgetTime,\r\n\ttoday,\r\n\ttomorrow,\r\n\tyesterday,\r\n\tget_clean_date,\r\n\tdates_of_month,\r\n\tdate_range,\r\n\tis_leap_year,\r\n} from './time';\r\nimport {\r\n\tquery_params,\r\n\tURLHash,\r\n} from './url';\r\nimport {\r\n\tcheck_appcache,\r\n\tpage_to_top,\r\n\twrite_CSS,\r\n} from './utils';\r\n\r\n/**\r\n * the entry point\r\n * @type {Object}\r\n */\r\n\r\nvar mobile_utils = {\r\n    env,\r\n    lang: {\r\n        read\r\n    },\r\n    dom: {\r\n        has_class,\r\n        add_class,\r\n        remove_class,\r\n        real_style,\r\n        append_HTML,\r\n        prepend_HTML,\r\n        tag_range_from_HTML,\r\n    },\r\n    event: {\r\n        on_tweened,\r\n        on_page_loaded,\r\n        on_page_rotated,\r\n        listen_select_change,\r\n        fake_click,\r\n        is_event_on_target,\r\n    },\r\n    format: {\r\n        reverse_str,\r\n        step_str,\r\n        knot_num,\r\n        num_pad_left,\r\n        limit_decimal,\r\n        trim,\r\n    },\r\n    time: {\r\n        date_to_YMD,\r\n        getTime,\r\n        today,\r\n        tomorrow,\r\n        yesterday,\r\n        get_clean_date,\r\n        dates_of_month,\r\n        date_range,\r\n        is_leap_year,\r\n    },\r\n    url: {\r\n        query_params,\r\n        URLHash,\r\n    },\r\n    utils: {\r\n        check_appcache,\r\n        page_to_top,\r\n        write_CSS,\r\n    }\r\n};\r\nexport default mobile_utils;\r\n\r\n//for old version only\r\nexport const compatible = {\r\n    i18n: {\r\n        getKey: read\r\n    },\r\n    dom: {\r\n        hasClass: has_class,\r\n        addClass: add_class,\r\n        removeClass: remove_class,\r\n        getRealStyle: real_style,\r\n        appendHTML: append_HTML,\r\n        prependHTML: prepend_HTML\r\n    },\r\n    event: {\r\n        onPageLoaded: on_page_loaded,\r\n        onPageRotated: on_page_rotated,\r\n        onTweened: on_tweened,\r\n        fakeClick: fake_click,\r\n        listenSelectChange: listen_select_change\r\n    },\r\n    utils: {\r\n        checkOffline: check_appcache,\r\n        pageToTop: page_to_top,\r\n        trim: trim,\r\n        ensureNumberStringLength: num_pad_left,\r\n        getDatesOfMonth: dates_of_month,\r\n        writeCSS: write_CSS,\r\n        getTagRangeFromHTMLStr: tag_range_from_HTML\r\n    },\r\n    env: env,\r\n    urlHash: URLHash,\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","var\r\n\t_ua = navigator.userAgent,\r\n    _m = null,\r\n    _formatV = function(vstr, vdiv) {\r\n        var f = vstr.split(vdiv);\r\n        f = f.shift() + '.' + f.join('');\r\n        return f * 1;\r\n    },\r\n    _break = false,\r\n    env = {\r\n        ua: _ua,\r\n        version: null,\r\n        ios: false,\r\n        android: false,\r\n        windows: false,\r\n        blackberry: false,\r\n        weixin: false,\r\n        wVersion: null,\r\n        qq: false,\r\n        qVersion: null,\r\n        touchSupport: ('createTouch' in document),\r\n        hashSupport: !!('onhashchange' in window)\r\n    };\r\n\r\n_m = _ua.match(/MicroMessenger\\/([\\.0-9]+)/);\r\nif (_m != null) {\r\n    env.weixin = true;\r\n    env.wVersion = _formatV(_m[1], '.');\r\n}\r\n\r\n_m = _ua.match(/QQ\\/([\\d\\.]+)$/);\r\nif (_m != null) {\r\n    env.qq = true;\r\n    env.qVersion = _formatV(_m[1], '.');\r\n}\r\n\r\n_m = _ua.match(/i(Pod|Pad|Phone)\\;?.*\\sOS\\s([\\_0-9]+)/);\r\nif (_m != null) {\r\n    env.ios = true;\r\n    env.version = _formatV(_m[2], '_');\r\n    _break = true;\r\n}\r\n\r\nif (!_break) {\r\n    _m = _ua.match(/Windows\\sPhone\\sOS\\s([\\.0-9]+)/);\r\n    if (_m != null) {\r\n        env.windows = true;\r\n        env.version = _formatV(_m[1], '.');\r\n       _break = true;\r\n    }\r\n}\r\n\r\nif (!_break) {\r\n    let bb = {\r\n        a: _ua.match(/\\(BB1\\d+\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\r\n        b: _ua.match(/\\(BlackBerry\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\r\n        c: _ua.match(/^BlackBerry\\d+\\/([\\.0-9]+)\\s/),\r\n        d: _ua.match(/\\(PlayBook\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/)\r\n    };\r\n    for (let k in bb) {\r\n        if (bb[k] != null) {\r\n            _m = bb[k];\r\n            env.blackberry = true;\r\n            env.version = _formatV(_m[1], '.');\r\n            _break = true;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 获取移动设备型号版本等环境信息\r\n * @type {Object}\r\n * @default {\r\n        ua,\r\n        version,\r\n        ios,\r\n        android,\r\n        windows,\r\n        blackberry,\r\n        weixin,\r\n        wVersion,\r\n        qq,\r\n        qVersion,\r\n        touchSupport,\r\n        hashSupport\r\n    }\r\n */\r\nexport default env;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/env.js\n **/","/**\r\n * 获取基于模板的文本值\r\n * @param  {String} tmpl - 文本模板，格式为 'hello{0},world{1}'\r\n * @param  {...String} args - 用于替换的若干参数\r\n * @return {String}\r\n */\r\nexport const read = (tmpl, ...args) => {\r\n\tlet rtn = tmpl.substr(0);\r\n\tif (args.length) {\r\n\t\tlet flagArr = tmpl.match(/\\{\\d+\\}/g); //{1},{0},{2}...\r\n\t\tif (flagArr) {\r\n\t\t\t//剔除数组重复项用\r\n\t\t\tlet realNeedLeng = flagArr.filter( (ele, idx)=>flagArr.indexOf(ele)==idx ).length;\r\n\t\t\tif (args.length != realNeedLeng){\r\n\t\t\t\tthrow new Error(`[i18n] Error: ${tmpl} need ${realNeedLeng} parameters, but ${args.length} received`);\r\n\t\t\t}\r\n\t\t\tfor (let ii = 0; ii < realNeedLeng; ii++)\r\n\t\t\t\trtn = rtn.replace( new RegExp(\"\\\\{\" + ii + \"\\\\}\", \"g\"), args[ii] );\r\n\t\t}\r\n\t}\r\n\treturn rtn;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lang.js\n **/","import {trim} from './format';\r\n\r\n/**\r\n * 判断元素是否有指定className\r\n * @param  {Element} ele\r\n * @param  {String} clsName\r\n * @return {Boolean}\r\n */\r\nexport const has_class = (ele, clsName) => (new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g')).test(ele.className);\r\n\r\n/**\r\n * 删除className\r\n * @param  {Element} ele\r\n * @param  {String} clsName\r\n * @return {void}\r\n */\r\nexport const remove_class = (ele, clsName) => {\r\n    if (typeof ele === 'string') {\r\n        try {\r\n            ele = document.querySelector(ele);\r\n        } catch (ex) {}\r\n    }\r\n    let re = new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g');\r\n    try {\r\n        ele.className = ele.className.replace(re, \"$1$3\");\r\n    } catch (ex) {}\r\n    re = null;\r\n};\r\n\r\n/**\r\n * 添加className\r\n * @param  {Element} ele\r\n * @param  {String} clsName\r\n * @return {void}\r\n */\r\nexport const add_class = (ele, clsName) => {\r\n    if (typeof ele === 'string') {\r\n        try {\r\n            ele = document.querySelector(ele);\r\n        } catch (ex) {}\r\n    }\r\n    remove_class(ele, clsName);\r\n    ele.className = trim(ele.className + ' ' + clsName);\r\n};\r\n\r\n/**\r\n * 获取计算样式\r\n * @param  {Element} [ele=null] - 目标元素\r\n * @param  {String} [styleName=null] - 样式名\r\n * @return {String}\r\n */\r\nexport const real_style = (ele=null, styleName=null) => {\r\n    if (!ele || !styleName) return;\r\n    let rtn = '';\r\n    try {\r\n        rtn = (typeof(window.getComputedStyle) == 'undefined') \r\n        \t? ele.currentStyle[styleName] \r\n        \t: window.getComputedStyle(ele, null)[styleName];\r\n    } catch (ex) {\r\n        rtn = ele.style[styleName];\r\n    }\r\n    return rtn.replace(/px$/, '');\r\n};\r\n\r\n/**\r\n * 在制定元素内的最末插入html\r\n * @param  {Element} dom\r\n * @param  {String} html\r\n * @return {void}\r\n */\r\nexport const append_HTML = (dom, html) => dom.insertAdjacentHTML('beforeEnd', html);\r\n\r\n/**\r\n * 在制定元素内的开始插入html\r\n * @param  {Element} dom\r\n * @param  {String} html\r\n * @return {void}\r\n */\r\nexport const prepend_HTML = (dom, html) => dom.insertAdjacentHTML('afterBegin', html);\r\n\r\n/**\r\n * 根据特征值找到一段html中其所在的tag范围\r\n * @param  {String} p_featureStr - 特征值\r\n * @param  {String} p_html - 作为查找范围的html\r\n * @return {Object} {start, end}\r\n */\r\nexport const tag_range_from_HTML = (p_featureStr, p_html) => {\r\n    let\r\n    \tt = p_html + '',\r\n        p = p_featureStr,\r\n        eStart = t.indexOf(p),\r\n        eEnd = null,\r\n        temp = null,\r\n        tagName = null,\r\n        closeTag = null,\r\n        m = null;\r\n    if (eStart == -1) {\r\n        return null;\r\n    }\r\n    temp = t.substr(0, eStart + p.length);\r\n    eStart = temp.lastIndexOf('<');\r\n    temp = t.substr(eStart);\r\n    tagName = temp.match(/^\\<([a-zA-Z]+)[\\s\\>]/)[1];\r\n    if (new RegExp('^\\\\<' + tagName + '[^\\\\>]*\\\\/\\\\>').test(temp)) { /* 直接关闭 <tag /> */\r\n        closeTag = '/>';\r\n        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\r\n    } else {\r\n        closeTag = '</' + tagName + '>';\r\n        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\r\n        temp = t.substring(eStart + tagName.length + temp.indexOf('>'), eEnd);\r\n        m = temp.match(new RegExp('\\\\<' + tagName + '[^\\/\\>]*[^\\\\/]?\\\\>', 'g'));\r\n        if (m != null) { /*是否嵌套了相同元素*/\r\n            var lng = m.length;\r\n            while (lng--) {\r\n                eEnd += t.substr(eEnd).indexOf(closeTag) + closeTag.length;\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        start: eStart,\r\n        end: eEnd\r\n    };\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom.js\n **/","/**\r\n * 字符串反转\r\n * @param  {String} str\r\n * @return {String}\r\n */\r\nexport const reverse_str = str => str.split('').reverse().join('');\r\n\r\n/**\r\n * 格式化手机号等，按位插入分隔符\r\n * @param  {Number|String} target - 目标数字或字符串\r\n * @param  {Number} [step=4] - 插入分隔符的相隔位数\r\n * @param  {Boolean} [needReverse=true] - 是否要从右向左进行插入\r\n * @param  {String} [div=\" \"] - 分隔符\r\n * @return {String}\r\n */\r\nexport const step_str = (target, step=4, needReverse=true, div=\" \") => {\r\n\tlet\r\n\t\tnStr = target.toString(),\r\n\t\trst = nStr.replace(/\\s/g, ''),\r\n\t\trTarget = needReverse ? reverse_str(rst) : rst,\r\n\t\tre = new RegExp('(.{'+ step +'})', 'g');\r\n\trst = rTarget.replace(re, `$1${div}`);\r\n\treturn needReverse ? reverse_str(rst) : rst;\r\n};\r\n\r\n/**\r\n * 添加千分位的数字分结号\r\n * @param  {Number} num\r\n * @return {String}\r\n */\r\nexport const knot_num = num => {\r\n\tlet\r\n\t\tnumParts = num.toString().split('.'),\r\n\t\tintegralPart = numParts[0],\r\n\t\tdecimalPart = numParts.length > 1 ? numParts[1] : null,\r\n\t\tformatedIntegral = step_str(integralPart, 3, true, ',');\r\n\tif (!decimalPart) return formatedIntegral;\r\n\treturn `${formatedIntegral}.${decimalPart}`;\r\n};\r\n\r\n/**\r\n * 限制小数位\r\n * @param  {Number} num\r\n * @param  {Number} [fix=2]\r\n * @return {String}\r\n */\r\nexport const limit_decimal = (num, fix=2) => {\r\n\tlet v = parseFloat(num);\r\n\tif (isNaN(v)) {\r\n\t\tthrow new Error(`[limit_decimal] ${num} is not a number`);\r\n\t\treturn '';\r\n\t}\r\n\treturn v.toFixed(fix);\r\n};\r\n\r\n\r\n/**\r\n * 补全数字左侧的0\r\n * @param  {Number} num - 目标数字\r\n * @param  {Number} [leng=2] - 最终位数\r\n * @return {String}\r\n */\r\nexport const num_pad_left = function(num, leng = 2) {\r\n    let \r\n    \tlng = leng,\r\n    \tzeroStr = '',\r\n    \tn = num.toString();\r\n    while (lng--) {\r\n    \tzeroStr += '0';\r\n    }\r\n    if (n.length < leng)\r\n    \treturn zeroStr.substr(0, leng - n.length) + n;\r\n    return n;\r\n};\r\n\r\n/**\r\n * 去首尾空格\r\n * @param  {String} str\r\n * @return {String}\r\n */\r\nexport const trim = str => str.replace(/(^\\s+|\\s+$)/g, '');\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/format.js\n **/","import env from './env';\r\nimport {append_HTML} from './dom';\r\n\r\n/**\r\n * 监听CSS3 transition动画结束\r\n * @param  {Element} dom\r\n * @param  {Function} callback\r\n * @return {void}\r\n */\r\nexport const on_tweened = (dom, callback) => \r\n    dom.addEventListener('webkitTransitionEnd', function fn(e) {\r\n        e.currentTarget.removeEventListener('webkitTransitionEnd', fn);\r\n        callback.call(null)\r\n    });\r\n\r\n/**\r\n * 监听页面加载\r\n * @description 如果监听时已加载则直接执行回调\r\n * @param  {Function} callback\r\n * @return {void}\r\n */\r\nexport const on_page_loaded = callback => {\r\n    if (/interactive|complete/.test(document.readyState)) {\r\n        callback.call(null); /*已加载过，直接执行*/\r\n        return;\r\n    }\r\n    window.addEventListener('DOMContentLoaded', function fn(e) {\r\n        e.currentTarget.removeEventListener('DOMContentLoaded', fn);\r\n        callback.call(null)\r\n    });\r\n};\r\n\r\n/**\r\n * 监听设备方向改变\r\n * @param  {Function} callback\r\n * @return {void}\r\n */\r\nexport const on_page_rotated = callback => window.addEventListener('orientationchange', callback);\r\n\r\n/**\r\n * 模拟点击事件\r\n * @param  {Function} callback - 回调函数\r\n * @param  {String} [domId='fakeClick'] - 模拟载体元素的id\r\n * @return {void}\r\n */\r\nexport const fake_click = (callback, domId='fakeClick') => {\r\n    append_HTML(\r\n        document.getElementsByTagName('body')[0],\r\n        `<a href=\"javascript:void(0)\" id=\"${domId}\" style=\"opacity:.01\"></a>`\r\n    );\r\n    let\r\n        $a = document.getElementById(domId),\r\n        evt;\r\n    $a.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        callback();\r\n    });\r\n    if (document.createEvent) {\r\n        evt = document.createEvent(\"MouseEvents\");\r\n        if (evt.initMouseEvent) {\r\n            evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n            $a.dispatchEvent(evt);\r\n        }\r\n    }\r\n    $a.parentNode.removeChild($a);\r\n};\r\n\r\n/**\r\n * 兼容性的监听select更改事件\r\n * @param  {Element} sel - 目标select元素\r\n * @param  {Function} callback - 回调函数\r\n * @return {void}\r\n */\r\nexport const listen_select_change = (sel, callback) => {\r\n    sel.dataset['lisOldselidx'] = sel.selectedIndex;\r\n    var _cbk = function(e) {\r\n        if (parseInt(sel.dataset['lisOldselidx']) != sel.selectedIndex) {\r\n            sel.dataset['lisOldselidx'] = sel.selectedIndex;\r\n            callback(e);\r\n        }\r\n    };\r\n    sel.addEventListener('change', _cbk);\r\n    sel.addEventListener('focus', _cbk);\r\n    sel.addEventListener('blur', _cbk);\r\n    if (env.ios && env.version >= 7) {\r\n        sel.addEventListener('click', _cbk);\r\n    }\r\n};\r\n\r\n/**\r\n * 判断时间是否发生在制定元素范围内\r\n * @return {Boolean}\r\n */\r\nexport const is_event_on_target = targetCtx => {\r\n    return function(e) {\r\n        var tgt = e.target;\r\n        if ( $(tgt).is(targetCtx) ) return true;\r\n        while (tgt.parentElement !== null) {\r\n            tgt = tgt.parentElement;\r\n            if ( is_event_on_target(targetCtx)({target: tgt}) ) return true;\r\n        }\r\n        return false;\r\n    }\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/event.js\n **/","import {format_num} from './format';\r\nimport env from './env';\r\n\r\nconst\r\n\t_timezone = (new Date).getTimezoneOffset(),\r\n\t_tz = parseInt(_timezone / 60),\r\n\t_testDateIOSTrans = (env.ios || /invalid/.test((new Date((new Date).toISOString())).toString().toLowerCase())),\r\n    _aSecond = 1000,\r\n    _aMinute = 60 * _aSecond,\r\n    _aHour = 60 * _aMinute,\r\n    _aDay = 24 * _aHour;\r\n\r\n/**\r\n * 将字符串转化为yyyymmdd格式\r\n * @param  {Date} date - 目标时间\r\n * @param  {String} [div='-'] - 分隔符\r\n * @return {String}\r\n */\r\nexport const date_to_YMD = (date, div='-') => \r\n    [date.getFullYear(), date.getMonth()+1, date.getDate()].map(num => format_num(num)).join(div);\r\n\r\n/**\r\n * 取得某个时间\r\n * @param  {Object} [setting] - {偏移值 offset, 基准时间 from, 是否置为0点 zeroTime, 是否置为1月1日 clean}\r\n * @return {Date}\r\n */\r\nexport const getTime = (setting={\r\n    offset: 0, \r\n    zeroTime: false, \r\n    clean: false, \r\n    from: new Date\r\n}) => {\r\n    let \r\n        {\r\n            offset, \r\n            zeroTime, \r\n            clean, \r\n            from\r\n        } = setting,\r\n        d = new Date(from);\r\n    if (clean) {\r\n        d.setDate(1); /*注意顺序 否则2月可能在遇到30号时出错*/\r\n        d.setMonth(0);\r\n    }\r\n    if (zeroTime) {\r\n        d.setHours(0);\r\n        d.setMinutes(0);\r\n        d.setSeconds(0);\r\n        d.setMilliseconds(0);\r\n    }\r\n    if (offset) {\r\n        d.setTime(d.getTime() + offset);\r\n    }\r\n    return d;\r\n};\r\n\r\n/**\r\n * 取得当天\r\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\r\n * @return {Date}\r\n */\r\nexport const today = (zeroTime=true) => getTime({zeroTime});\r\n\r\n/**\r\n * 取得明天\r\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\r\n * @return {Date}\r\n */\r\nexport const tomorrow = (zeroTime=true) => getTime({zeroTime, offset: _aDay});\r\n\r\n/**\r\n * 取得昨天\r\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\r\n * @return {Date}\r\n */\r\nexport const yesterday = (zeroTime=true) => getTime({zeroTime, offset: -_aDay});\r\n\r\n/**\r\n * 取得一个某年某月1号0时的干净日期\r\n * @param  {Number} [p_month=0]\r\n * @param  {Number} [p_year=今年]\r\n * @return {Date}\r\n */\r\nexport const get_clean_date = (p_month=0, p_year=(new Date).getFullYear()) => {\r\n    let d = getTime({clean: true, zeroTime: true});\r\n    d.setFullYear(p_year);\r\n    d.setMonth(p_month);\r\n    return d;\r\n};\r\n\r\n/**\r\n * 取得某月中的日期\r\n * @param  {Number} p_year\r\n * @param  {Number} [p_month=0]\r\n * @return {Array} 星期-日期 的二维数组\r\n */\r\nexport const dates_of_month = (p_year, p_month=0) => {\r\n    let\r\n        matrix = [\r\n            []\r\n        ],\r\n        putDay = function(d, isLastRow = false) {\r\n            matrix[matrix.length - 1].push(d == null ? null : d.toISOString());\r\n            if (!isLastRow && matrix[matrix.length - 1].length == 7) {\r\n                matrix[matrix.length] = [];\r\n            }\r\n        },\r\n        day = get_clean_date(p_month, p_year);\r\n    for (var i = 0, lng = day.getDay(); i < lng; i++) {\r\n        putDay(null);\r\n    }\r\n    while (day.getMonth() == p_month) {\r\n        putDay(day);\r\n        day.setDate(day.getDate() + 1);\r\n    }\r\n    if (!matrix[matrix.length - 1].length) {\r\n        matrix.pop();\r\n    }\r\n    while (matrix[matrix.length - 1].length < 7) {\r\n        putDay(null, true);\r\n    }\r\n    return matrix;\r\n};\r\n\r\n/**\r\n * 取得开始-结束的日期范围\r\n * @param  {Number} rangeNums - 开始到结束的天数\r\n * @param  {Date} [from=今天] - 基准日期\r\n * @return {Object}\r\n */\r\nexport const date_range = (rangeNums, from = getToday()) => {\r\n    let \r\n        days = parseInt(rangeNums) * _aDay,\r\n        endDay = getTime({from, offset: days});\r\n    return {\r\n        start: from, \r\n        end: endDay, \r\n        start_str: formatDate(today), \r\n        end_str: formatDate(endDay)\r\n    };\r\n};\r\n\r\n/**\r\n * 是否闰年\r\n * @param  {Number} [year=null] 年份\r\n * @return {Boolean}\r\n */\r\nexport const is_leap_year = (year=null) => { \r\n    let \r\n        currY = (new Date).getFullYear()\r\n        y = year || currY;\r\n    y = parseInt(y);\r\n    if (isNaN(y)) y = currY;\r\n    return (((y % 4 == 0) && (y % 100 != 0)) || (y % 400 == 0)) ? 1 : 0;\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/time.js\n **/","/**\r\n * 将query字符串转换为object\r\n * @param  {String} [query=当前url的query] 给定的query字符串\r\n * @return {Object}\r\n */\r\nexport const query_params = (query = window.location.search.substring(1)) => {\r\n\tif (!query) return false;\r\n    let obj = {};\r\n\tquery.split('&').forEach(function(params) {\r\n\t\tlet \r\n\t\t\tp = params.split('='),\r\n\t\t\tkey = p[0],\r\n\t\t\tvlu = decodeURIComponent(p[1]);\r\n\t\tobj[key] = vlu;\r\n\t});\r\n    return obj;\r\n};\r\n\r\n\r\n/**\r\n * 将hash部分转化为object\r\n */\r\nexport class URLHash {\r\n    /**\r\n     * @constructor\r\n     * @param  {String} [href=当前URL的hash]\r\n     * @param  {String} [hashChar='#']\r\n     * @param  {String} [separator=\"&\"]\r\n     * @return {Object}\r\n     */\r\n    constructor(href=window.location.href, hashChar='#', separator=\"&\") {\r\n        let\r\n            h = href,\r\n            s = separator,\r\n            uArr = _split2(h, hashChar),\r\n            href_part = uArr[0],\r\n            hash_part = uArr[1];\r\n        this.map = {};\r\n        this.sign = s;\r\n        if (hash_part) {\r\n            let arr = hash_part.split(s);\r\n            for (let i = 0; i < arr.length; i++) {\r\n                let s2 = arr[i];\r\n                let o = _split2(s2, '=');\r\n                this.map[o[0]] = o[1];\r\n            }\r\n        }\r\n        this.size = function() {\r\n            return this.keys().length;\r\n        };\r\n        this.keys = function() {\r\n            let k = [];\r\n            for (let m in this.map)\r\n                if (m != '_hashfoo_') k.push(m);\r\n            return k;\r\n        };\r\n        this.values = function() {\r\n            let v = [];\r\n            for (let m in this.map)\r\n                if (m != '_hashfoo_') v.push(this.map[m]);\r\n            return v;\r\n        };\r\n        this.put('_hashfoo_', Math.random());\r\n    } //end of constructor\r\n\r\n    get(key) {\r\n        return this.map[key] || null;\r\n    }\r\n    put(key, value) {\r\n        this.map[key] = value;\r\n    }\r\n    putAll(m) {\r\n        if (typeof(m) == 'object')\r\n            for (let item in m) this.map[item] = m[item];\r\n    }\r\n    remove(key) {\r\n        if (this.map[key]) {\r\n            let newMap = {};\r\n            for (let item in this.map)\r\n                if (item != key) newMap[item] = this.map[item];\r\n            this.map = newMap;\r\n        }\r\n    }\r\n    toString() {\r\n        let m2 = {};\r\n        for (let m in this.map)\r\n            if (m != '_hashfoo_') m2[m] = this.map[m];\r\n        return _map2query(m2, \"&\");\r\n    }\r\n    clone() {\r\n        return new hu('foo#' + this.toString(), this.sign);\r\n    }\r\n};\r\n\r\n\r\nfunction _map2query(q, separator) {\r\n    let\r\n        u = encodeURIComponent,\r\n        k,\r\n        r = [],\r\n        d = separator ? separator : '&';\r\n    for (k in q) r.push(u(k) + '=' + u(q[k]));\r\n    return r.join(d);\r\n}\r\nfunction _split2(s, separator) {\r\n    let i = s.indexOf(separator);\r\n    return i == -1 ? [s, ''] : [s.substring(0, i), s.substring(i + 1)];\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/url.js\n **/","/**\r\n * 检查并监听applicationCache的更新情况\r\n * @return {void}\r\n */\r\nexport function check_appcache() {\r\n\tlet\r\n\t\t_appCache = window.applicationCache,\r\n    \tsupport = !!_appCache;\r\n    if (!support) return;\r\n    _appCache.addEventListener(\"updateready\", e => {\r\n        if (_appCache.status == _appCache.UPDATEREADY) {\r\n            try {\r\n                _appCache.swapCache();\r\n            } catch (ex1) {}\r\n            let \r\n            \t{origin, pathname, hash} = location,\r\n            \trnd = Math.random();\r\n            location.href = `${origin}${pathname}?rnd=${rnd}${hash}`;\r\n        }\r\n    }, false);\r\n}\r\n\r\n/**\r\n * 将页面移动至指定位置\r\n * @param  {Number} [top]\r\n * @return {void}\r\n */\r\nexport const page_to_top = (top = -1) => {\r\n    document.getElementsByTagName('body')[0].scrollTop = top;\r\n    window.scrollTo(0, top);\r\n};\r\n\r\n/**\r\n * 在页面中动态写入css\r\n * @param  {String} css字符串\r\n * @return {void}\r\n */\r\nexport const write_CSS = css => {\r\n    var s = document.createElement('style');\r\n    s.innerHTML = css;\r\n    try {\r\n        s.appendChild(document.createTextNode(css));\r\n    } catch (ex) {\r\n    \ts.styleSheet.cssText = css;\r\n    }\r\n    document.getElementsByTagName('head')[0].appendChild(s);\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}