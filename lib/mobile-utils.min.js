!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("underscore")):"function"==typeof define&&define.amd?define("mobile-utils",["underscore"],t):"object"==typeof exports?exports["mobile-utils"]=t(require("underscore")):e["mobile-utils"]=t(e.underscore)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=o(i),u=n(3),l=r(u),s=n(4),c=r(s),d=n(6),f=r(d),v=n(5),h=r(v),p=n(7),g=r(p),_=n(8),m=r(_),y=n(9),w=r(y),b={env:a["default"],lang:l,dom:c,event:f,format:h,time:g,url:m,utils:w};t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=r(i),u={ua:"",version:null,ios:!1,android:!1,windows:!1,blackberry:!1,weixin:!1,wVersion:null,qq:!1,qVersion:null,touchSupport:!1,hashSupport:!1};if("undefined"==typeof window)o=u;else{var l=navigator.userAgent,s=null,c=function(e,t){var n=e.split(t);return n=n.shift()+"."+n.join(""),1*n},d=!1;if(o=a["default"].assign({},u,{ua:l,touchSupport:"createTouch"in document,hashSupport:!!("onhashchange"in window)}),s=l.match(/MicroMessenger\/([\.0-9]+)/),null!=s&&(o.weixin=!0,o.wVersion=c(s[1],".")),s=l.match(/QQ\/([\d\.]+)$/),null!=s&&(o.qq=!0,o.qVersion=c(s[1],".")),s=l.match(/i(Pod|Pad|Phone)\;?.*\sOS\s([\_0-9]+)/),null!=s&&(o.ios=!0,o.version=c(s[2],"_"),d=!0),d||(s=l.match(/Windows\sPhone\sOS\s([\.0-9]+)/),null!=s&&(o.windows=!0,o.version=c(s[1],"."),d=!0)),!d){var f={a:l.match(/\(BB1\d+\;\s.*\sVersion\/([\.0-9]+)\s/),b:l.match(/\(BlackBerry\;\s.*\sVersion\/([\.0-9]+)\s/),c:l.match(/^BlackBerry\d+\/([\.0-9]+)\s/),d:l.match(/\(PlayBook\;\s.*\sVersion\/([\.0-9]+)\s/)};for(var v in f)null!=f[v]&&(s=f[v],o.blackberry=!0,o.version=c(s[1],"."),d=!0)}}t["default"]=o,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=e.substr(0);return n.length&&!function(){var t=e.match(/\{\d+\}/g);if(t){var r=t.filter(function(e,n){return t.indexOf(e)==n}).length;if(n.length!=r)throw new Error("[i18n] Error: "+e+" need "+r+" parameters, but "+n.length+" received");for(var i=0;i<r;i++)o=o.replace(new RegExp("\\{"+i+"\\}","g"),n[i])}}(),o};t.read_i18n=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformXY=t.tag_range_from_HTML=t.prepend_HTML=t.append_HTML=t.real_style=t.remove_class=t.add_class=t.has_class=void 0;var r=n(5),o=function(e,t){return new RegExp("(^|\\s)+("+t+")(\\s|$)+","g").test(e.className)},i=function(e){if("string"==typeof e)try{return document.querySelector(e)}catch(t){}return e},a=function(e,t){var n=i(e),r=new RegExp("(^|\\s)+("+t+")(\\s|$)+","g");try{n.className=n.className.replace(r,"$1$3")}catch(o){}r=null},u=function(e,t){var n=i(e);a(n,t),n.className=(0,r.trim)(n.className+" "+t)},l=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(e&&t){var n="";try{n="undefined"==typeof window.getComputedStyle?e.currentStyle[t]:window.getComputedStyle(e,null)[t]}catch(r){n=e.style[t]}return n.replace(/px$/,"")}},s=function(e,t){return e.insertAdjacentHTML("beforeEnd",t)},c=function(e,t){return e.insertAdjacentHTML("afterBegin",t)},d=function(e,t){var n=t+"",r=e,o=n.indexOf(r),i=null,a=null,u=null,l=null,s=null,c=null;if(o==-1)return null;if(a=n.substr(0,o+r.length),o=a.lastIndexOf("<"),a=n.substr(o),u=a.match(/^\<([a-zA-Z1-6]+)[\s\>]/),l=u[1],new RegExp("^\\<"+l+"[^\\>]*\\/\\>").test(a))s="/>",i=o+a.indexOf(s)+s.length;else if(s="</"+l+">",i=o+a.indexOf(s)+s.length,a=n.substring(o+l.length+a.indexOf(">"),i),c=a.match(new RegExp("\\<"+l+"[^/>]*[^\\/]?\\>","g")),null!=c)for(var d=c.length;d--;)i+=n.substr(i).indexOf(s)+s.length;return{start:o,end:i}},f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":/MSIE/i.test(navigator.userAgent)?"ms":"",v="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,h="translate"+(v?"3d(":"("),p=v?",0)":")",g=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];null!==r&&"number"==typeof r&&r>=0&&(e.style[f+"TransitionDuration"]=1e3*r+"s"),e.style[f+"Transform"]=""+h+t+"px,"+n+"px"+p};t.has_class=o,t.add_class=u,t.remove_class=a,t.real_style=l,t.append_HTML=s,t.prepend_HTML=c,t.tag_range_from_HTML=d,t.transformXY=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e.split("").reverse().join("")},r=function(e){var t=arguments.length<=1||void 0===arguments[1]?4:arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=arguments.length<=3||void 0===arguments[3]?" ":arguments[3],i=e.toString(),a=i.replace(/\s/g,""),l=r?n(a):a,s=new RegExp("(.{"+t+"})","g");return a=l.replace(s,"$1"+o),a=r?n(a):a,a=u(a),a=a.replace(new RegExp("^\\"+o),"")},o=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=e;null!==t&&t>=0&&(n=i(n,t));var o=n.toString().split("."),a=o[0],u=o.length>1?o[1]:null,l=r(a,3,!0,","),s=void 0;return u?s=l+"."+u:l},i=function(e){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],n=parseFloat(e);if(isNaN(n))throw new Error("[limit_decimal] "+e+" is not a number");return n.toFixed(t)},a=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],n=t,r="",o=e.toString();n--;)r+="0";return o.length<t?r.substr(0,t-o.length)+o:o},u=function(e){return e.replace(/(^\s+|\s+$)/g,"")};t.reverse_str=n,t.step_str=r,t.knot_num=o,t.num_pad_left=a,t.limit_decimal=i,t.trim=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.is_event_on_target=t.fake_click=t.listen_select_change=t.on_page_rotated=t.on_page_loaded=t.on_tweened=void 0;var o=n(1),i=r(o),a=n(4),u=function(e,t){return e.addEventListener("webkitTransitionEnd",function n(e){e.currentTarget.removeEventListener("webkitTransitionEnd",n),t.call(null,e)})},l=function(e){return/interactive|complete/.test(document.readyState)?void e.call(null):void window.addEventListener("DOMContentLoaded",function t(n){n.currentTarget.removeEventListener("DOMContentLoaded",t),e.call(null,n)})},s=function(e){return window.addEventListener("orientationchange",e)},c=function(e){var t=arguments.length<=1||void 0===arguments[1]?"fakeClick":arguments[1];(0,a.append_HTML)(document.getElementsByTagName("body")[0],'<a href="javascript:void(0)" id="'+t+'" style="opacity:.01"></a>');var n=document.getElementById(t),r=void 0;n.addEventListener("click",function(t){t.preventDefault(),e()}),document.createEvent&&(r=document.createEvent("MouseEvents"),r.initMouseEvent&&(r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r))),n.parentNode.removeChild(n)},d=function(e,t){e.dataset.lisOldselidx=e.selectedIndex;var n=function(n){parseInt(e.dataset.lisOldselidx)!=e.selectedIndex&&(e.dataset.lisOldselidx=e.selectedIndex,t(n))};e.addEventListener("change",n),e.addEventListener("focus",n),e.addEventListener("blur",n),i["default"].ios&&i["default"].version>=7&&e.addEventListener("click",n)},f=function v(e){return function(t){var n=t.target;if(n===e)return!0;for(;null!==n.parentElement;)if(n=n.parentElement,v(e)({target:n}))return!0;return!1}};t.on_tweened=u,t.on_page_loaded=l,t.on_page_rotated=s,t.listen_select_change=d,t.fake_click=c,t.is_event_on_target=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?"-":arguments[1];return[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return(0,p.num_pad_left)(e)}).join(t)}function i(e){e=h["default"].assign({offset:0,zeroTime:!1,clean:!1,from:new Date},e);var t=e,n=t.offset,r=t.zeroTime,o=t.clean,i=t.from,a=new Date(i);return r&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),o&&a.setDate(1),n&&a.setTime(a.getTime()+n),a}function a(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return i({zeroTime:e})}function u(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return i({zeroTime:e,offset:y})}function l(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return i({zeroTime:e,offset:-y})}function s(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?(new Date).getFullYear():arguments[1],n=i({clean:!0,zeroTime:!0});return n.setFullYear(t),n.setMonth(e-1),n}function c(){for(var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?(new Date).getFullYear():arguments[1],n=[[]],r=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];n[n.length-1].push(null==e?null:e.toISOString()),t||7!=n[n.length-1].length||(n[n.length]=[])},o=s(e,t),i=0,a=o.getDay();i<a;i++)r(null);for(;o.getMonth()==e-1;)r(o),o.setDate(o.getDate()+1);for(n[n.length-1].length||n.pop();n[n.length-1].length<7;)r(null,!0);return n}function d(e){var t=arguments.length<=1||void 0===arguments[1]?a():arguments[1],n=parseInt(e)*y,r=i({from:t,offset:n}),o=[t,r];return o.sort(function(e,t){return e-t}),{start:o[0],end:o[1]}}function f(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=(new Date).getFullYear(),n=e||t;return n=parseInt(n),isNaN(n)&&(n=t),!((n%4!=0||n%100==0)&&n%400!=0)}Object.defineProperty(t,"__esModule",{value:!0}),t.is_leap_year=t.date_range=t.calender=t.get_clean_date=t.yesterday=t.tomorrow=t.today=t.getTime=t.date_to_YMD=t._aDay=t._aHour=t._aMinute=t._aSecond=void 0;var v=n(2),h=r(v),p=n(5),g=t._aSecond=1e3,_=t._aMinute=60*g,m=t._aHour=60*_,y=t._aDay=24*m;t.date_to_YMD=o,t.getTime=i,t.today=a,t.tomorrow=u,t.yesterday=l,t.get_clean_date=s,t.calender=c,t.date_range=d,t.is_leap_year=f},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n=encodeURIComponent,r=void 0,o=[],i=t?t:"&";for(r in e)o.push(n(r)+"="+n(e[r]));return o.join(i)}function o(e,t){var n=e.indexOf(t);return n==-1?[e,""]:[e.substring(0,n),e.substring(n+1)]}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){var e=arguments.length<=0||void 0===arguments[0]?window.location.search.substring(1):arguments[0];if(!e)return null;var t={};return e.split("&").forEach(function(e){var n=e.split("="),r=n[0],o=decodeURIComponent(n[1]);t[r]=o}),t},l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?window.location.href:arguments[0],r=arguments.length<=1||void 0===arguments[1]?"#":arguments[1],i=arguments.length<=2||void 0===arguments[2]?"&":arguments[2];n(this,e);var a=t,u=i,l=o(a,r),s=l[1];if(this.map={},this.separator=i,this.hashChar=r,s)for(var c=s.split(u),d=0;d<c.length;d++){var f=c[d],v=o(f,"=");this.map[v[0]]=v[1]}this.size=function(){return this.keys().length},this.keys=function(){var e=[];for(var t in this.map)"_hashfoo_"!=t&&e.push(t);return e},this.values=function(){var e=[];for(var t in this.map)"_hashfoo_"!=t&&e.push(this.map[t]);return e},this.put("_hashfoo_",Math.random())}return a(e,[{key:"get",value:function(e){return this.map[e]||null}},{key:"put",value:function(e,t){this.map[e]=t}},{key:"putAll",value:function(e){if("object"==("undefined"==typeof e?"undefined":i(e)))for(var t in e)this.map[t]=e[t]}},{key:"remove",value:function(e){if(this.map[e]){var t={};for(var n in this.map)n!=e&&(t[n]=this.map[n]);this.map=t}}},{key:"toString",value:function(){var e={};for(var t in this.map)"_hashfoo_"!=t&&(e[t]=this.map[t]);return r(e,"&")}},{key:"clone",value:function(){return new e("foo#"+this.toString(),this.hashChar,this.separator)}}]),e}();t.query_params=u,t.URLHash=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=window.applicationCache,t=!!e;t&&e.addEventListener("updateready",function(){if(e.status==e.UPDATEREADY){try{e.swapCache()}catch(t){}var n=location,r=n.origin,o=n.pathname,i=n.hash,a=Math.random();location.href=""+r+o+"?rnd="+a+i}},!1)}function a(){var e=arguments.length<=0||void 0===arguments[0]?-1:arguments[0];document.getElementsByTagName("body")[0].scrollTop=e,window.scrollTo(0,e)}function u(e){var t=document.createElement("style");t.innerHTML=e;try{t.appendChild(document.createTextNode(e))}catch(n){t.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollLocker=t.write_CSS=t.page_to_top=t.check_appcache=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),d=function(){function e(t){o(this,e),this._cfg=c["default"].assign({ignores:[]},t),this._scr=this._onscroll.bind(this)}return l(e,[{key:"_isIn",value:function(e,t){var n=e,r=t;if(n===r)return!0;for(;r.parentNode;){if(n===r)return!0;r=r.parentNode}return!1}},{key:"_onscroll",value:function(e){for(var t=e.target,n=this._cfg.ignores,r=0,o=n.length;r<o;r++){var i=n[r];if(!this._isIn(i,t)){e.preventDefault();break}}}},{key:"lock",value:function(){window.addEventListener("touchmove",this._scr,!1)}},{key:"unlock",value:function(){window.removeEventListener("touchmove",this._scr,!1)}}]),e}();t.check_appcache=i,t.page_to_top=a,t.write_CSS=u,t.ScrollLocker=d}])});
//# sourceMappingURL=mobile-utils.min.js.map