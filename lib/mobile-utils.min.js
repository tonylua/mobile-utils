!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("mobile-utils",[],t):"object"==typeof exports?exports["mobile-utils"]=t():e["mobile-utils"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.compatible=void 0;var a=n(1),o=r(a),i=n(2),s=r(i),l=n(3),u=n(5),c=n(4),d=n(6),f=n(7),_=n(8),p={env:o["default"],lang:{read:s["default"]},dom:{has_class:l.has_class,add_class:l.add_class,remove_class:l.remove_class,real_style:l.real_style,append_HTML:l.append_HTML,prepend_HTML:l.prepend_HTML,tag_range_from_HTML:l.tag_range_from_HTML},event:{on_tweened:u.on_tweened,on_page_loaded:u.on_page_loaded,on_page_rotated:u.on_page_rotated,listen_select_change:u.listen_select_change,fake_click:u.fake_click,is_event_on_target:u.is_event_on_target},format:{reverse_str:c.reverse_str,step_str:c.step_str,knot_num:c.knot_num,num_pad_left:c.num_pad_left,limit_decimal:c.limit_decimal,trim:c.trim},time:{date_to_YMD:d.date_to_YMD,getTime:d.getTime,today:d.today,tomorrow:d.tomorrow,yesterday:d.yesterday,get_clean_date:d.get_clean_date,dates_of_month:d.dates_of_month,date_range:d.date_range,is_leap_year:d.is_leap_year},url:{query_params:f.query_params,URLHash:f.URLHash},utils:{check_appcache:_.check_appcache,page_to_top:_.page_to_top,write_CSS:_.write_CSS}};t["default"]=p;t.compatible={i18n:{getKey:s["default"]},dom:{hasClass:l.has_class,addClass:l.add_class,removeClass:l.remove_class,getRealStyle:l.real_style,appendHTML:l.append_HTML,prependHTML:l.prepend_HTML},event:{onPageLoaded:u.on_page_loaded,onPageRotated:u.on_page_rotated,onTweened:u.on_tweened,fakeClick:u.fake_click,listenSelectChange:u.listen_select_change},utils:{checkOffline:_.check_appcache,pageToTop:_.page_to_top,trim:c.trim,ensureNumberStringLength:c.num_pad_left,getDatesOfMonth:d.dates_of_month,writeCSS:_.write_CSS,getTagRangeFromHTMLStr:l.tag_range_from_HTML},env:o["default"],urlHash:f.URLHash}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent,r=null,a=function(e,t){var n=e.split(t);return n=n.shift()+"."+n.join(""),1*n},o=!1,i={ua:n,version:null,ios:!1,android:!1,windows:!1,blackberry:!1,weixin:!1,wVersion:null,qq:!1,qVersion:null,touchSupport:"createTouch"in document,hashSupport:!!("onhashchange"in window)};if(r=n.match(/MicroMessenger\/([\.0-9]+)/),null!=r&&(i.weixin=!0,i.wVersion=a(r[1],".")),r=n.match(/QQ\/([\d\.]+)$/),null!=r&&(i.qq=!0,i.qVersion=a(r[1],".")),r=n.match(/i(Pod|Pad|Phone)\;?.*\sOS\s([\_0-9]+)/),null!=r&&(i.ios=!0,i.version=a(r[2],"_"),o=!0),o||(r=n.match(/Windows\sPhone\sOS\s([\.0-9]+)/),null!=r&&(i.windows=!0,i.version=a(r[1],"."),o=!0)),!o){var s={a:n.match(/\(BB1\d+\;\s.*\sVersion\/([\.0-9]+)\s/),b:n.match(/\(BlackBerry\;\s.*\sVersion\/([\.0-9]+)\s/),c:n.match(/^BlackBerry\d+\/([\.0-9]+)\s/),d:n.match(/\(PlayBook\;\s.*\sVersion\/([\.0-9]+)\s/)};for(var l in s)null!=s[l]&&(r=s[l],i.blackberry=!0,i.version=a(r[1],"."),o=!0)}t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.read=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e.substr(0);return n.length&&!function(){var t=e.match(/\{\d+\}/g);if(t){var r=t.filter(function(e,n){return t.indexOf(e)==n}).length;if(n.length!=r)throw new Error("[i18n] Error: "+e+" need "+r+" parameters, but "+n.length+" received");for(var o=0;o<r;o++)a=a.replace(new RegExp("\\{"+o+"\\}","g"),n[o])}}(),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tag_range_from_HTML=t.prepend_HTML=t.append_HTML=t.real_style=t.add_class=t.remove_class=t.has_class=void 0;var r=n(4),a=(t.has_class=function(e,t){return new RegExp("(^|\\s)+("+t+")(\\s|$)+","g").test(e.className)},t.remove_class=function(e,t){if("string"==typeof e)try{e=document.querySelector(e)}catch(n){}var r=new RegExp("(^|\\s)+("+t+")(\\s|$)+","g");try{e.className=e.className.replace(r,"$1$3")}catch(n){}r=null});t.add_class=function(e,t){if("string"==typeof e)try{e=document.querySelector(e)}catch(n){}a(e,t),e.className=(0,r.trim)(e.className+" "+t)},t.real_style=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(e&&t){var n="";try{n="undefined"==typeof window.getComputedStyle?e.currentStyle[t]:window.getComputedStyle(e,null)[t]}catch(r){n=e.style[t]}return n.replace(/px$/,"")}},t.append_HTML=function(e,t){return e.insertAdjacentHTML("beforeEnd",t)},t.prepend_HTML=function(e,t){return e.insertAdjacentHTML("afterBegin",t)},t.tag_range_from_HTML=function(e,t){var n=t+"",r=e,a=n.indexOf(r),o=null,i=null,s=null,l=null,u=null;if(a==-1)return null;if(i=n.substr(0,a+r.length),a=i.lastIndexOf("<"),i=n.substr(a),s=i.match(/^\<([a-zA-Z]+)[\s\>]/)[1],new RegExp("^\\<"+s+"[^\\>]*\\/\\>").test(i))l="/>",o=a+i.indexOf(l)+l.length;else if(l="</"+s+">",o=a+i.indexOf(l)+l.length,i=n.substring(a+s.length+i.indexOf(">"),o),u=i.match(new RegExp("\\<"+s+"[^/>]*[^\\/]?\\>","g")),null!=u)for(var c=u.length;c--;)o+=n.substr(o).indexOf(l)+l.length;return{start:a,end:o}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.reverse_str=function(e){return e.split("").reverse().join("")},r=t.step_str=function(e){var t=arguments.length<=1||void 0===arguments[1]?4:arguments[1],r=arguments.length<=2||void 0===arguments[2]||arguments[2],a=arguments.length<=3||void 0===arguments[3]?" ":arguments[3],o=e.toString(),i=o.replace(/\s/g,""),s=r?n(i):i,l=new RegExp("(.{"+t+"})","g");return i=s.replace(l,"$1"+a),r?n(i):i};t.knot_num=function(e){var t=e.toString().split("."),n=t[0],a=t.length>1?t[1]:null,o=r(n,3,!0,",");return a?o+"."+a:o},t.limit_decimal=function(e){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],n=parseFloat(e);if(isNaN(n))throw new Error("[limit_decimal] "+e+" is not a number");return n.toFixed(t)},t.num_pad_left=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],n=t,r="",a=e.toString();n--;)r+="0";return a.length<t?r.substr(0,t-a.length)+a:a},t.trim=function(e){return e.replace(/(^\s+|\s+$)/g,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.is_event_on_target=t.listen_select_change=t.fake_click=t.on_page_rotated=t.on_page_loaded=t.on_tweened=void 0;var a=n(1),o=r(a),i=n(3);t.on_tweened=function(e,t){return e.addEventListener("webkitTransitionEnd",function n(e){e.currentTarget.removeEventListener("webkitTransitionEnd",n),t.call(null)})},t.on_page_loaded=function(e){return/interactive|complete/.test(document.readyState)?void e.call(null):void window.addEventListener("DOMContentLoaded",function t(n){n.currentTarget.removeEventListener("DOMContentLoaded",t),e.call(null)})},t.on_page_rotated=function(e){return window.addEventListener("orientationchange",e)},t.fake_click=function(e){var t=arguments.length<=1||void 0===arguments[1]?"fakeClick":arguments[1];(0,i.append_HTML)(document.getElementsByTagName("body")[0],'<a href="javascript:void(0)" id="'+t+'" style="opacity:.01"></a>');var n=document.getElementById(t),r=void 0;n.addEventListener("click",function(t){t.preventDefault(),e()}),document.createEvent&&(r=document.createEvent("MouseEvents"),r.initMouseEvent&&(r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r))),n.parentNode.removeChild(n)},t.listen_select_change=function(e,t){e.dataset.lisOldselidx=e.selectedIndex;var n=function(n){parseInt(e.dataset.lisOldselidx)!=e.selectedIndex&&(e.dataset.lisOldselidx=e.selectedIndex,t(n))};e.addEventListener("change",n),e.addEventListener("focus",n),e.addEventListener("blur",n),o["default"].ios&&o["default"].version>=7&&e.addEventListener("click",n)},t.is_event_on_target=function s(e){return function(t){var n=t.target;if($(n).is(e))return!0;for(;null!==n.parentElement;)if(n=n.parentElement,s(e)({target:n}))return!0;return!1}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.is_leap_year=t.date_range=t.dates_of_month=t.get_clean_date=t.yesterday=t.tomorrow=t.today=t.getTime=t.date_to_YMD=void 0;var a=n(4),o=n(1),i=r(o),s=(new Date).getTimezoneOffset(),l=(parseInt(s/60),i["default"].ios||/invalid/.test(new Date((new Date).toISOString()).toString().toLowerCase()),1e3),u=60*l,c=60*u,d=24*c,f=(t.date_to_YMD=function(e){var t=arguments.length<=1||void 0===arguments[1]?"-":arguments[1];return[e.getFullYear(),e.getMonth()+1,e.getDate()].map(function(e){return(0,a.format_num)(e)}).join(t)},t.getTime=function(){var e=arguments.length<=0||void 0===arguments[0]?{offset:0,zeroTime:!1,clean:!1,from:new Date}:arguments[0],t=e.offset,n=e.zeroTime,r=e.clean,a=e.from,o=new Date(a);return r&&(o.setDate(1),o.setMonth(0)),n&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),t&&o.setTime(o.getTime()+t),o}),_=t.today=function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return f({zeroTime:e})},p=(t.tomorrow=function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return f({zeroTime:e,offset:d})},t.yesterday=function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return f({zeroTime:e,offset:-d})},t.get_clean_date=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?(new Date).getFullYear():arguments[1],n=f({clean:!0,zeroTime:!0});return n.setFullYear(t),n.setMonth(e),n});t.dates_of_month=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=[[]],r=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];n[n.length-1].push(null==e?null:e.toISOString()),t||7!=n[n.length-1].length||(n[n.length]=[])},a=p(t,e),o=0,i=a.getDay();o<i;o++)r(null);for(;a.getMonth()==t;)r(a),a.setDate(a.getDate()+1);for(n[n.length-1].length||n.pop();n[n.length-1].length<7;)r(null,!0);return n},t.date_range=function(e){var t=arguments.length<=1||void 0===arguments[1]?getToday():arguments[1],n=parseInt(e)*d,r=f({from:t,offset:n});return{start:t,end:r,start_str:formatDate(_),end_str:formatDate(r)}},t.is_leap_year=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=(new Date).getFullYear();return y=e||t,y=parseInt(y),isNaN(y)&&(y=t),y%4==0&&y%100!=0||y%400==0?1:0}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n=encodeURIComponent,r=void 0,a=[],o=t?t:"&";for(r in e)a.push(n(r)+"="+n(e[r]));return a.join(o)}function a(e,t){var n=e.indexOf(t);return n==-1?[e,""]:[e.substring(0,n),e.substring(n+1)]}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.query_params=function(){var e=arguments.length<=0||void 0===arguments[0]?window.location.search.substring(1):arguments[0];if(!e)return!1;var t={};return e.split("&").forEach(function(e){var n=e.split("="),r=n[0],a=decodeURIComponent(n[1]);t[r]=a}),t},t.URLHash=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?window.location.href:arguments[0],r=arguments.length<=1||void 0===arguments[1]?"#":arguments[1],o=arguments.length<=2||void 0===arguments[2]?"&":arguments[2];n(this,e);var i=t,s=o,l=a(i,r),u=(l[0],l[1]);if(this.map={},this.sign=s,u)for(var c=u.split(s),d=0;d<c.length;d++){var f=c[d],_=a(f,"=");this.map[_[0]]=_[1]}this.size=function(){return this.keys().length},this.keys=function(){var e=[];for(var t in this.map)"_hashfoo_"!=t&&e.push(t);return e},this.values=function(){var e=[];for(var t in this.map)"_hashfoo_"!=t&&e.push(this.map[t]);return e},this.put("_hashfoo_",Math.random())}return i(e,[{key:"get",value:function(e){return this.map[e]||null}},{key:"put",value:function(e,t){this.map[e]=t}},{key:"putAll",value:function(e){if("object"==("undefined"==typeof e?"undefined":o(e)))for(var t in e)this.map[t]=e[t]}},{key:"remove",value:function(e){if(this.map[e]){var t={};for(var n in this.map)n!=e&&(t[n]=this.map[n]);this.map=t}}},{key:"toString",value:function(){var e={};for(var t in this.map)"_hashfoo_"!=t&&(e[t]=this.map[t]);return r(e,"&")}},{key:"clone",value:function(){return new hu("foo#"+this.toString(),this.sign)}}]),e}()},function(e,t){"use strict";function n(){var e=window.applicationCache,t=!!e;t&&e.addEventListener("updateready",function(t){if(e.status==e.UPDATEREADY){try{e.swapCache()}catch(n){}var r=location,a=r.origin,o=r.pathname,i=r.hash,s=Math.random();location.href=""+a+o+"?rnd="+s+i}},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.check_appcache=n;t.page_to_top=function(){var e=arguments.length<=0||void 0===arguments[0]?-1:arguments[0];document.getElementsByTagName("body")[0].scrollTop=e,window.scrollTo(0,e)},t.write_CSS=function(e){var t=document.createElement("style");t.innerHTML=e;try{t.appendChild(document.createTextNode(e))}catch(n){t.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(t)}}])});
//# sourceMappingURL=mobile-utils.min.js.map