{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ce70479fcbbd22c69ee5","webpack:///./src/index.js","webpack:///./src/object-assign-polyfill.js","webpack:///./src/env.js","webpack:///./src/lang.js","webpack:///./src/dom.js","webpack:///./src/format.js","webpack:///./src/event.js","webpack:///./src/time.js","webpack:///./src/url.js","webpack:///./src/utils.js"],"names":["lang","dom","event","format","time","url","utils","mUtils","env","Object","assign","target","TypeError","index","arguments","length","source","key","prototype","hasOwnProperty","call","o","_default","ua","version","ios","android","windows","blackberry","weixin","wVersion","qq","qVersion","touchSupport","hashSupport","window","_ua","navigator","userAgent","_m","_formatV","vstr","vdiv","f","split","shift","join","_break","document","match","bb","a","b","c","d","k","read_i18n","tmpl","args","rtn","substr","flagArr","realNeedLeng","filter","ele","idx","indexOf","Error","ii","replace","RegExp","has_class","clsName","test","className","_ensure_domele","querySelector","ex","remove_class","_ele","re","add_class","real_style","styleName","getComputedStyle","currentStyle","style","append_HTML","html","insertAdjacentHTML","prepend_HTML","tag_range_from_HTML","p_featureStr","p_html","t","p","eStart","eEnd","temp","tagMth","tagName","closeTag","m","lastIndexOf","substring","lng","start","end","transformXY","x","y","duration","_vendor","appVersion","_has3d","WebKitCSSMatrix","_trnOpen","_trnClose","reverse_str","str","reverse","step_str","step","needReverse","div","nStr","toString","rst","rTarget","trim","knot_num","num","fix","n","limit_decimal","numParts","integralPart","decimalPart","formatedIntegral","v","parseFloat","isNaN","toFixed","num_pad_left","leng","zeroStr","num_limit_leng","value","parseInt","on_tweened","callback","addEventListener","fn","e","currentTarget","removeEventListener","on_page_loaded","readyState","on_page_rotated","fake_click","domId","getElementsByTagName","$a","getElementById","evt","preventDefault","createEvent","initMouseEvent","dispatchEvent","parentNode","removeChild","listen_select_change","sel","dataset","selectedIndex","_cbk","is_event_on_target","tgt","targetDom","parentElement","_aSecond","_aMinute","_aHour","_aDay","date_to_YMD","date","getFullYear","getMonth","getDate","map","getTime","setting","offset","zeroTime","clean","from","Date","setHours","setMinutes","setSeconds","setMilliseconds","setDate","setTime","today","tomorrow","yesterday","get_clean_date","p_month","p_year","setFullYear","setMonth","calender","matrix","putDay","isLastRow","push","toISOString","day","i","getDay","pop","date_range","rangeNums","days","endDay","arr","sort","is_leap_year","year","currY","_split2","s","separator","query_params","query","location","search","obj","forEach","params","vlu","decodeURIComponent","params_query","u","encodeURIComponent","r","URLHash","href","hashChar","h","uArr","hash_part","s2","size","keys","values","put","Math","random","keyValues","item","newMap","m2","enable_html5_for_old","tags","createElement","write_CSS","check_appcache","_appCache","applicationCache","support","status","UPDATEREADY","swapCache","ex1","origin","pathname","hash","rnd","page_to_top","top","scrollTop","scrollTo","css","innerHTML","appendChild","createTextNode","styleSheet","cssText","form_primary_valid","form","submitCallback","noticeFunction","submitTriggerEvent","submitTriggerTarget","mismatchNoticeName","missingNoticeName","show_alert","func","ipt","reportValidity","setCustomValidity","bind","alert","validity","valueMissing","msg","name","get_fields","slice","querySelectorAll","fields","bool","fake","cloneNode","type","checkValidity","valid","ScrollLocker","settings","_cfg","ignores","_scr","_onscroll","targetObj","tobj","cobj","currObj","ig","igrObj","_isIn"],"mappings":"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","file":"mobile-utils.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mobile-utils\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mobile-utils\"] = factory();\n\telse\n\t\troot[\"mobile-utils\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ce70479fcbbd22c69ee5","import osp from './object-assign-polyfill';  // eslint-disable-line no-unused-vars\nimport env from './env';\nimport * as lang from './lang';\nimport * as dom from './dom';\nimport * as event from './event';\nimport * as format from './format';\nimport * as time from './time';\nimport * as url from './url';\nimport * as utils from './utils';\n\n/**\n * the entry point\n * @namespace mUtils\n * @type {Object}\n */\nconst mUtils = {\n\tenv,\n\tlang,\n\tdom,\n\tevent,\n\tformat,\n\ttime,\n\turl,\n\tutils\n};\nexport default mUtils;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\nif (typeof Object.assign != 'function') {\n  Object.assign = function(target) {\n    'use strict';\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n}\nvar o = Object.assign;\nexport default o;\n\n\n// WEBPACK FOOTER //\n// ./src/object-assign-polyfill.js","var\n    _default = {\n        ua: '',\n        version: null,\n        ios: false,\n        android: false,\n        windows: false,\n        blackberry: false,\n        weixin: false,\n        wVersion: null,\n        qq: false,\n        qVersion: null,\n        touchSupport: false,\n        hashSupport: false\n    },\n    env;\n\nif (typeof window === 'undefined') {\n    env = _default;\n} else {\n    let\n        _ua = navigator.userAgent,\n        _m = null,\n        _formatV = function(vstr, vdiv) {\n            let f = vstr.split(vdiv);\n            f = f.shift() + '.' + f.join('');\n            return f * 1;\n        },\n        _break = false\n    ;\n\n    env = Object.assign({}, _default, {\n        ua: _ua,\n        touchSupport: ('createTouch' in document),\n        hashSupport: !!('onhashchange' in window)\n    });\n\n    _m = _ua.match(/MicroMessenger\\/([\\.0-9]+)/);\n    if (_m != null) {\n        env.weixin = true;\n        env.wVersion = _formatV(_m[1], '.');\n    }\n\n    _m = _ua.match(/QQ\\/([\\d\\.]+)$/);\n    if (_m != null) {\n        env.qq = true;\n        env.qVersion = _formatV(_m[1], '.');\n    }\n\n    _m = _ua.match(/i(Pod|Pad|Phone)\\;?.*\\sOS\\s([\\_0-9]+)/);\n    if (_m != null) {\n        env.ios = true;\n        env.version = _formatV(_m[2], '_');\n        _break = true;\n    }\n\n    if (!_break) {\n        _m = _ua.match(/Windows\\sPhone\\sOS\\s([\\.0-9]+)/);\n        if (_m != null) {\n            env.windows = true;\n            env.version = _formatV(_m[1], '.');\n           _break = true;\n        }\n    }\n\n    if (!_break) {\n        let bb = {\n            a: _ua.match(/\\(BB1\\d+\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\n            b: _ua.match(/\\(BlackBerry\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\n            c: _ua.match(/^BlackBerry\\d+\\/([\\.0-9]+)\\s/),\n            d: _ua.match(/\\(PlayBook\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/)\n        };\n        for (let k in bb) {\n            if (bb[k] != null) {\n                _m = bb[k];\n                env.blackberry = true;\n                env.version = _formatV(_m[1], '.');\n                _break = true;\n            }\n        }\n    }\n} //end of else\n\n/**\n * 获取移动设备型号版本等环境信息\n * @type {Object}\n * @namespace env\n * @memberOf mUtils\n * @default {\n        ua,\n        version,\n        ios,\n        android,\n        windows,\n        blackberry,\n        weixin,\n        wVersion,\n        qq,\n        qVersion,\n        touchSupport,\n        hashSupport\n    }\n */\nexport default env;\n\n\n\n// WEBPACK FOOTER //\n// ./src/env.js","/**\n * 获取基于模板的文本值\n * @param  {String} tmpl - 文本模板，格式为 'hello{0},world{1}'\n * @param  {...String} args - 用于替换的若干参数\n * @return {String}\n * @memberOf mUtils.lang\n */\nconst read_i18n = (tmpl, ...args) => {\n\tlet rtn = tmpl.substr(0);\n\tif (args.length) {\n\t\tlet flagArr = tmpl.match(/\\{\\d+\\}/g); //{1},{0},{2}...\n\t\tif (flagArr) {\n\t\t\t//剔除数组重复项用\n\t\t\tlet realNeedLeng = flagArr.filter( (ele, idx)=>flagArr.indexOf(ele)==idx ).length;\n\t\t\tif (args.length != realNeedLeng){\n\t\t\t\tthrow new Error(`[i18n] Error: ${tmpl} need ${realNeedLeng} parameters, but ${args.length} received`);\n\t\t\t}\n\t\t\tfor (let ii = 0; ii < realNeedLeng; ii++)\n\t\t\t\trtn = rtn.replace( new RegExp(\"\\\\{\" + ii + \"\\\\}\", \"g\"), args[ii] );\n\t\t}\n\t}\n\treturn rtn;\n};\n\nexport \n/**\n * @namespace lang\n * @memberOf mUtils\n * @type {Object}\n */\n{\n\tread_i18n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lang.js","import {trim} from './format';\n\n/**\n * 判断元素是否有指定className\n * @param  {Element} ele\n * @param  {String} clsName\n * @return {Boolean}\n * @memberOf mUtils.dom\n */\nconst has_class = (ele, clsName) => (new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g')).test(ele.className);\n\nconst _ensure_domele = ele => {\n    if (typeof ele === 'string') {\n        try {\n            return document.querySelector(ele);\n        } catch (ex) {}\n    }\n    return ele;\n}\n\n/**\n * 删除className\n * @param  {Element} ele\n * @param  {String} clsName\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst remove_class = (ele, clsName) => {\n    let _ele = _ensure_domele(ele);\n    let re = new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g');\n    try {\n        _ele.className = _ele.className.replace(re, \"$1$3\");\n    } catch (ex) {}\n    re = null;\n}\n\n/**\n * 添加className\n * @param  {Element} ele\n * @param  {String} clsName\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst add_class = (ele, clsName) => {\n    let _ele = _ensure_domele(ele);\n    remove_class(_ele, clsName);\n    _ele.className = trim(_ele.className + ' ' + clsName);\n}\n\n/**\n * 获取计算样式\n * @param  {Element} [ele=null] - 目标元素\n * @param  {String} [styleName=null] - 样式名\n * @return {String}\n * @memberOf mUtils.dom\n */\nconst real_style = (ele=null, styleName=null) => {\n    if (!ele || !styleName) return;\n    let rtn = '';\n    try {\n        rtn = (typeof(window.getComputedStyle) == 'undefined')\n            ? ele.currentStyle[styleName]\n            : window.getComputedStyle(ele, null)[styleName];\n    } catch (ex) {\n        rtn = ele.style[styleName];\n    }\n    return rtn.replace(/px$/, '');\n};\n\n/**\n * 在指定元素内的最末插入html\n * @param  {Element} dom\n * @param  {String} html\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst append_HTML = (dom, html) => dom.insertAdjacentHTML('beforeEnd', html);\n\n/**\n * 在指定元素内的开始插入html\n * @param  {Element} dom\n * @param  {String} html\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst prepend_HTML = (dom, html) => dom.insertAdjacentHTML('afterBegin', html);\n\n/**\n * 根据特征值找到一段html中其所在的tag范围\n * @param  {String} p_featureStr - 特征值\n * @param  {String} p_html - 作为查找范围的html\n * @return {Object} {start, end}\n * @memberOf mUtils.dom\n */\nconst tag_range_from_HTML = (p_featureStr, p_html) => {\n    let\n        t = p_html + '',\n        p = p_featureStr,\n        eStart = t.indexOf(p),\n        eEnd = null,\n        temp = null,\n        tagMth = null,\n        tagName = null,\n        closeTag = null,\n        m = null;\n    if (eStart == -1) {\n        return null;\n    }\n    temp = t.substr(0, eStart + p.length);\n    eStart = temp.lastIndexOf('<');\n    temp = t.substr(eStart);\n    tagMth = temp.match(/^\\<([a-zA-Z1-6]+)[\\s\\>]/);\n    tagName = tagMth[1];\n    if (new RegExp('^\\\\<' + tagName + '[^\\\\>]*\\\\/\\\\>').test(temp)) { /* 直接关闭 <tag /> */\n        closeTag = '/>';\n        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\n    } else {\n        closeTag = '</' + tagName + '>';\n        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\n        temp = t.substring(eStart + tagName.length + temp.indexOf('>'), eEnd);\n        m = temp.match(new RegExp('\\\\<' + tagName + '[^\\/\\>]*[^\\\\/]?\\\\>', 'g'));\n        if (m != null) { /*是否嵌套了相同元素*/\n            var lng = m.length;\n            while (lng--) {\n                eEnd += t.substr(eEnd).indexOf(closeTag) + closeTag.length;\n            }\n        }\n    }\n    return {\n        start: eStart,\n        end: eEnd\n    };\n};\n\n\n\n/**\n * 为元素附加2d移动的css3样式\n * @param  {Element} dom - 目标元素\n * @param  {Number} x - x轴上移动的px值\n * @param  {Number} y - y轴上移动的px值\n * @param  {Number} [duration=null] - 持续的毫秒数\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst transformXY = (dom, x=0, y=0, duration=null) => {\n    let\n        _vendor = (/webkit/i).test(navigator.appVersion) ? \"webkit\": (/firefox/i).test(navigator.userAgent) ? \"Moz\": \"opera\" in window ? \"O\": (/MSIE/i).test(navigator.userAgent) ? \"ms\": \"\",\n        _has3d = \"WebKitCSSMatrix\" in window && \"m11\" in new WebKitCSSMatrix(),\n        _trnOpen = \"translate\" + (_has3d ? \"3d(\": \"(\"),\n        _trnClose = _has3d ? \",0)\": \")\"\n    ;\n    if (duration !== null\n        && typeof duration === 'number'\n        && duration>=0) {\n        dom.style[_vendor + 'TransitionDuration'] = duration*1000 + 's';\n    }\n    dom.style[_vendor + 'Transform'] = `${_trnOpen}${x}px,${y}px${_trnClose}`;\n};\n\nexport\n/**\n * @namespace dom\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    has_class,\n    add_class,\n    remove_class,\n    real_style,\n    append_HTML,\n    prepend_HTML,\n    tag_range_from_HTML,\n    transformXY\n};\n\n\n// WEBPACK FOOTER //\n// ./src/dom.js","/**\n * 字符串反转\n * @param  {String} str\n * @return {String}\n * @memberOf mUtils.format\n */\nconst reverse_str = str => str.split('').reverse().join('');\n\n/**\n * 格式化手机号等，按位插入分隔符\n * @param  {Number|String} target - 目标数字或字符串\n * @param  {Number} [step=4] - 插入分隔符的相隔位数\n * @param  {Boolean} [needReverse=true] - 是否要从右向左进行插入\n * @param  {String} [div=\" \"] - 分隔符\n * @return {String}\n * @memberOf mUtils.format\n */\nconst step_str = (target, step=4, needReverse=false, div=\" \") => {\n\tlet\n\t\tnStr = target.toString(),\n\t\trst = nStr.replace(/\\s/g, ''),\n\t\trTarget = needReverse ? reverse_str(rst) : rst,\n\t\tre = new RegExp('(.{'+ step +'})', 'g');\n\trst = rTarget.replace(re, `$1${div}`);\n\trst = needReverse ? reverse_str(rst) : rst;\n\trst = trim(rst);\n\trst = rst.replace(new RegExp('^\\\\' + div), '');\n\treturn rst;\n};\n\n/**\n * 添加千分位的数字分结号\n * @param  {Number} num - 目标数字\n * @param  {Number} [fix=null] - 如果同时要对小数限制位数则指定其位数\n * @return {String}\n * @memberOf mUtils.format\n */\nconst knot_num = (num, fix=null) => {\n\tlet n = num;\n\tif (fix !== null && fix >= 0) {\n\t\tn = limit_decimal(n, fix);\n\t}\n\tlet\n\t\tnumParts = n.toString().split('.'),\n\t\tintegralPart = numParts[0],\n\t\tdecimalPart = numParts.length > 1 ? numParts[1] : null,\n\t\tformatedIntegral = step_str(integralPart, 3, true, ','),\n\t\trst;\n\tif (!decimalPart) return formatedIntegral;\n\trst = `${formatedIntegral}.${decimalPart}`;\n\treturn rst;\n};\n\n/**\n * 限制小数位\n * @param  {Number} num\n * @param  {Number} [fix=2]\n * @return {String}\n * @memberOf mUtils.format\n */\nconst limit_decimal = (num, fix=2) => {\n\tlet v = parseFloat(num);\n\tif (isNaN(v)) {\n\t\tthrow new Error(`[limit_decimal] ${num} is not a number`);\n\t}\n\treturn v.toFixed(fix);\n};\n\n\n/**\n * 补全数字左侧的0\n * @param  {Number} num - 目标数字\n * @param  {Number} [leng=2] - 最终位数\n * @return {String}\n * @memberOf mUtils.format\n */\nconst num_pad_left = function(num, leng = 2) {\n    let \n\t\tlng = leng,\n\t\tzeroStr = '',\n\t\tn = num.toString();\n    while (lng--) {\n\t\tzeroStr += '0';\n    }\n    if (n.length < leng)\n\t\treturn zeroStr.substr(0, leng - n.length) + n;\n    return n;\n};\n\n/**\n * 只允许数字并限制位数\n * @param  {String} value - 原始输入值\n * @param  {Number} leng - 最大长度\n * @return {Number}\n */\nconst num_limit_leng = (value, leng) => !/^\\d+$/.test(value) \n\t? value.replace(/\\D/g, '') \n\t: value.length > leng\n\t\t? parseInt(value.toString().substring(0, leng))\n\t\t: value;\n\n/**\n * 去首尾空格\n * @param  {String} str\n * @return {String}\n * @memberOf mUtils.format\n */\nconst trim = str => str.replace(/(^\\s+|\\s+$)/g, '');\n\nexport \n/**\n * @namespace format\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    reverse_str,\n    step_str,\n    knot_num,\n    num_pad_left,\n    num_limit_leng,\n    limit_decimal,\n    trim,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/format.js","import env from './env';\nimport {append_HTML} from './dom';\n\n/**\n * 监听CSS3 transition动画结束\n * @param  {Element} dom\n * @param  {Function} callback\n * @return {void}\n * @memberOf mUtils.event\n */\nconst on_tweened = (dom, callback) =>\n    dom.addEventListener('webkitTransitionEnd', function fn(e) {\n        e.currentTarget.removeEventListener('webkitTransitionEnd', fn);\n        callback.call(null, e)\n    });\n\n/**\n * 监听页面加载\n * @description 如果监听时已加载则直接执行回调\n * @param  {Function} callback\n * @return {void}\n * @memberOf mUtils.event\n */\nconst on_page_loaded = callback => {\n    if (/interactive|complete/.test(document.readyState)) {\n        callback.call(null); /*已加载过，直接执行*/\n        return;\n    }\n    window.addEventListener('DOMContentLoaded', function fn(e) {\n        e.currentTarget.removeEventListener('DOMContentLoaded', fn);\n        callback.call(null, e)\n    });\n};\n\n/**\n * 监听设备方向改变\n * @param  {Function} callback\n * @return {void}\n * @memberOf mUtils.event\n */\nconst on_page_rotated = callback => window.addEventListener('orientationchange', callback);\n\n/**\n * 模拟点击事件\n * @param  {Function} callback - 回调函数\n * @param  {String} [domId='fakeClick'] - 模拟载体元素的id\n * @return {void}\n * @memberOf mUtils.event\n */\nconst fake_click = (callback, domId='fakeClick') => {\n    append_HTML(\n        document.getElementsByTagName('body')[0],\n        `<a href=\"javascript:void(0)\" id=\"${domId}\" style=\"opacity:.01\"></a>`\n    );\n    let\n        $a = document.getElementById(domId),\n        evt;\n    $a.addEventListener(\"click\", function(e) {\n        e.preventDefault();\n        callback();\n    });\n    if (document.createEvent) {\n        evt = document.createEvent(\"MouseEvents\");\n        if (evt.initMouseEvent) {\n            evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n            $a.dispatchEvent(evt);\n        }\n    }\n    $a.parentNode.removeChild($a);\n};\n\n/**\n * 兼容性的监听select更改事件\n * @param  {Element} sel - 目标select元素\n * @param  {Function} callback - 回调函数\n * @return {void}\n * @memberOf mUtils.event\n */\nconst listen_select_change = (sel, callback) => {\n    sel.dataset['lisOldselidx'] = sel.selectedIndex;\n    var _cbk = function(e) {\n        if (parseInt(sel.dataset['lisOldselidx']) != sel.selectedIndex) {\n            sel.dataset['lisOldselidx'] = sel.selectedIndex;\n            callback(e);\n        }\n    };\n    sel.addEventListener('change', _cbk);\n    sel.addEventListener('focus', _cbk);\n    sel.addEventListener('blur', _cbk);\n    if (env.ios && env.version >= 7) {\n        sel.addEventListener('click', _cbk);\n    }\n};\n\n/**\n * 判断时间是否发生在指定元素范围内\n * @param {Element} targetDom - 指定元素\n * @return {Boolean}\n * @memberOf mUtils.event\n */\nconst is_event_on_target = targetDom => {\n    return function(e) {\n        var tgt = e.target;\n        if ( tgt === targetDom ) return true;\n        while (tgt.parentElement !== null) {\n            tgt = tgt.parentElement;\n            if ( is_event_on_target(targetDom)({target: tgt}) ) return true;\n        }\n        return false;\n    }\n};\n\nexport\n/**\n * @namespace event\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    on_tweened,\n    on_page_loaded,\n    on_page_rotated,\n    listen_select_change,\n    fake_click,\n    is_event_on_target,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","import {num_pad_left} from './format';\n\nexport const\n\t_aSecond = 1000,\n    _aMinute = 60 * _aSecond,\n    _aHour = 60 * _aMinute,\n    _aDay = 24 * _aHour;\n\n// export function local_date(dateStr=null) {\n//     let\n//         d = dateStr ? new Date(dateStr) : new Date,\n//         timeOffset = d.getTimezoneOffset() * _aMinute,\n//         localDate = new Date(d.getTime() + timeOffset);\n//     return localDate;\n// }\n\n/**\n * 将字符串转化为yyyymmdd格式\n * @param  {Date} date - 目标时间\n * @param  {String} [div='-'] - 分隔符\n * @return {String}\n * @memberOf mUtils.time\n */\nfunction date_to_YMD(date, div='-') {\n    return [date.getFullYear(), date.getMonth()+1, date.getDate()].map(num => num_pad_left(num)).join(div);\n}\n\n/**\n * 取得某个时间\n * @param  {Object} [setting] - {偏移值 offset, 基准时间 from, 是否置为0点 zeroTime, 是否置为1日 clean}\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction getTime(setting) {\n    setting = Object.assign({\n        offset: 0,\n        zeroTime: false,\n        clean: false,\n        from: new Date\n    }, setting);\n    let\n        {\n            offset,\n            zeroTime,\n            clean,\n            from\n        } = setting,\n        d = new Date(from);\n    if (zeroTime) {\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n    }\n    if (clean) {\n        d.setDate(1); /*注意顺序 否则2月可能在遇到30号时出错*/\n    }\n    if (offset) {\n        d.setTime(d.getTime() + offset);\n    }\n    return d;\n}\n\n/**\n * 取得当天\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction today(zeroTime=true) {return getTime({zeroTime});}\n\n/**\n * 取得明天\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction tomorrow(zeroTime=true) {return getTime({zeroTime, offset: _aDay});}\n\n/**\n * 取得昨天\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction yesterday(zeroTime=true) {return getTime({zeroTime, offset: -_aDay});}\n\n/**\n * 取得一个某年某月1号0时的干净日期\n * @param  {Number} [p_month=1]\n * @param  {Number} [p_year=今年]\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction get_clean_date(p_month=1, p_year=(new Date).getFullYear()) {\n    let d = getTime({clean: true, zeroTime: true});\n    d.setFullYear(p_year);\n    d.setMonth(p_month-1);\n    return d;\n}\n\n/**\n * 取得某月的日历\n * @param  {Number} p_year\n * @param  {Number} [p_month=1]\n * @return {Array} 星期-日期 的二维数组: 周日0,周一1...\n * @memberOf mUtils.time\n */\nfunction calender(p_month=1, p_year=(new Date).getFullYear()) {\n    let\n        matrix = [\n            []\n        ],\n        putDay = function(d, isLastRow = false) {\n            matrix[matrix.length - 1].push(d == null ? null : d.toISOString());\n            if (!isLastRow && matrix[matrix.length - 1].length == 7) {\n                matrix[matrix.length] = [];\n            }\n        },\n        day = get_clean_date(p_month, p_year);\n    for (var i = 0, lng = day.getDay(); i < lng; i++) {\n        putDay(null);\n    }\n    while (day.getMonth() == p_month-1) {\n        putDay(day);\n        day.setDate(day.getDate() + 1);\n    }\n    if (!matrix[matrix.length - 1].length) {\n        matrix.pop();\n    }\n    while (matrix[matrix.length - 1].length < 7) {\n        putDay(null, true);\n    }\n    return matrix;\n}\n\n/**\n * 取得开始-结束的日期范围\n * @param  {Number} rangeNums - 开始到结束的天数\n * @param  {Date} [from=今天] - 基准日期\n * @return {Object}\n * @memberOf mUtils.time\n */\nfunction date_range(rangeNums, from = today()) {\n    let\n        days = parseInt(rangeNums) * _aDay,\n        endDay = getTime({from, offset: days}),\n        arr = [from, endDay];\n    arr.sort((a,b)=>a-b);\n    return {\n        start: arr[0],\n        end: arr[1]\n    };\n}\n\n/**\n * 是否闰年\n * @param  {Number} [year=null] 年份\n * @return {Boolean}\n * @memberOf mUtils.time\n */\nfunction is_leap_year(year=null) {\n    let\n        currY = (new Date).getFullYear(),\n        y = year || currY;\n    y = parseInt(y);\n    if (isNaN(y)) y = currY;\n    return !!(((y % 4 == 0) && (y % 100 != 0)) || (y % 400 == 0));\n}\n\nexport\n/**\n * @namespace time\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    date_to_YMD,\n    getTime,\n    today,\n    tomorrow,\n    yesterday,\n    get_clean_date,\n    calender,\n    date_range,\n    is_leap_year,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/time.js","/**\n * @private\n */\nfunction _split2(s, separator) {\n    let i = s.indexOf(separator);\n    return i == -1 ? [s, ''] : [s.substring(0, i), s.substring(i + 1)];\n}\n\n/**\n * 将query字符串转换为object\n * @param  {String} [query=当前url的query] 给定的query字符串\n * @return {Object}\n * @memberOf mUtils.url\n */\nconst query_params = (query = window.location.search.substring(1)) => {\n\tif (!query) return null;\n    let obj = {};\n\tquery.split('&').forEach(function(params) {\n\t\tlet\n\t\t\tp = params.split('='),\n\t\t\tkey = p[0],\n\t\t\tvlu = decodeURIComponent(p[1]);\n\t\tobj[key] = vlu;\n\t});\n    return obj;\n};\n\n/**\n * 将object转换为query字符串\n * @param  {Object} obj - 键值对的对象\n * @param  {Stribng} [separator='&'] - 分隔符\n * @return {String}\n */\nfunction params_query(obj, separator='&') {\n    let\n        u = encodeURIComponent,\n        k,\n        r = [];\n    for (k in obj) r.push(u(k) + '=' + u(obj[k]));\n    return r.join(separator);\n}\n\n/**\n * 将hash部分转化为object\n * @memberOf mUtils.url\n */\nclass URLHash {\n    /**\n     * 构造方法\n     * @constructor\n     * @param  {String} [href=当前URL的hash]\n     * @param  {String} [hashChar='#']\n     * @param  {String} [separator=\"&\"]\n     * @return {Object}\n     */\n    constructor(href=window.location.href, hashChar='#', separator=\"&\") {\n        let\n            h = href,\n            s = separator,\n            uArr = _split2(h, hashChar),\n            hash_part = uArr[1];\n        this.map = {};\n        this.separator = separator;\n        this.hashChar = hashChar;\n        if (hash_part) {\n            let arr = hash_part.split(s);\n            for (let i = 0; i < arr.length; i++) {\n                let s2 = arr[i];\n                let o = _split2(s2, '=');\n                this.map[o[0]] = o[1];\n            }\n        }\n        this.size = function() {\n            return this.keys().length;\n        };\n        this.keys = function() {\n            let k = [];\n            for (let m in this.map)\n                if (m != '_hashfoo_') k.push(m);\n            return k;\n        };\n        this.values = function() {\n            let v = [];\n            for (let m in this.map)\n                if (m != '_hashfoo_') v.push(this.map[m]);\n            return v;\n        };\n        this.put('_hashfoo_', Math.random());\n    } //end of constructor\n    /**\n     * 取得某个值\n     * @param  {String} key\n     * @return {String}\n     */\n    get(key) {\n        return this.map[key] || null;\n    }\n    /**\n     * 放置新值\n     * @param  {String} key\n     * @param  {Any} value\n     * @return {void}\n     */\n    put(key, value) {\n        this.map[key] = value;\n    }\n    /**\n     * 一次性设置多个值\n     * @param  {Object} keyValues\n     * @return {void}\n     */\n    putAll(keyValues) {\n        if (typeof(keyValues) == 'object')\n            for (let item in keyValues)\n                this.map[item] = keyValues[item];\n    }\n    /**\n     * 删除某个值\n     * @param  {String} key\n     * @return {void}\n     */\n    remove(key) {\n        if (this.map[key]) {\n            let newMap = {};\n            for (let item in this.map)\n                if (item != key) newMap[item] = this.map[item];\n            this.map = newMap;\n        }\n    }\n    /**\n     * 转换为字符串\n     * @return {String}\n     */\n    toString() {\n        let m2 = {};\n        for (let m in this.map)\n            if (m != '_hashfoo_') m2[m] = this.map[m];\n        return params_query(m2, \"&\");\n    }\n    /**\n     * 克隆一个实例\n     * @return {URLHash}\n     */\n    clone() {\n        return new URLHash('foo#' + this.toString(), this.hashChar, this.separator);\n    }\n}\n\nexport\n/**\n * @namespace url\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    query_params,\n    params_query,\n    URLHash,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/url.js","/**\n * 确保老旧的设备可以使用html5的新元素\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction enable_html5_for_old() {\n    let tags = 'abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,fieldset,figure,figcaption,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,small,time,video,legend';\n    tags.split(',').forEach(ele=>document.createElement(ele));\n    write_CSS(tags + '{display:block;}');\n}\n\n/**\n * 检查并监听applicationCache的更新情况\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction check_appcache() {\n\tlet\n\t\t_appCache = window.applicationCache,\n        support = !!_appCache;\n    if (!support) return;\n    _appCache.addEventListener(\"updateready\", () => {\n        if (_appCache.status == _appCache.UPDATEREADY) {\n            try {\n                _appCache.swapCache();\n            } catch (ex1) {}\n            let\n                {origin, pathname, hash} = location,\n                rnd = Math.random();\n            location.href = `${origin}${pathname}?rnd=${rnd}${hash}`;\n        }\n    }, false);\n}\n\n/**\n * 将页面移动至指定位置\n * @param  {Number} [top]\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction page_to_top(top = -1) {\n    document.getElementsByTagName('body')[0].scrollTop = top;\n    window.scrollTo(0, top);\n}\n\n/**\n * 在页面中动态写入css\n * @param  {String} css - css字符串\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction write_CSS(css) {\n    var s = document.createElement('style');\n    s.innerHTML = css;\n    try {\n        s.appendChild(document.createTextNode(css));\n    } catch (ex) {\n        s.styleSheet.cssText = css;\n    }\n    document.getElementsByTagName('head')[0].appendChild(s);\n}\n\n/**\n * 利用html5的原生pattern校验，对自定义了规则的表单项提示错误信息\n * @param  {Element} form\n * @param  {Function} [submitCallback=null] - 校验成功后的回掉函数，参数为 (form, fieldsObj)\n * @param  {Function} [noticeFunction=null] - *IOS only* 提示错误的方法\n * @param  {String} [submitTriggerEvent='click'] - 触发校验的事件\n * @param  {String} [submitTriggerTarget='.submit'] - 触发校验的目标元素上下文\n * @param  {String} [mismatchNoticeName='mismatch'] - 与pattern属性匹配的自定义提示语data-属性\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction form_primary_valid(\n    form, \n    submitCallback = null,\n    noticeFunction = null,\n    submitTriggerEvent = 'click',\n    submitTriggerTarget = '.submit',\n    mismatchNoticeName = 'mismatch',\n    missingNoticeName = 'missing')\n{\n    const show_alert = ipt=>{\n        let func = ipt.reportValidity \n            ? ipt.setCustomValidity.bind(ipt)\n            : (noticeFunction || alert);\n        if (ipt.validity.valueMissing) { //空缺\n            let msg = ipt.reportValidity \n                ? '' \n                : ipt.dataset.hasOwnProperty(mismatchNoticeName)\n                    ? ipt.dataset[missingNoticeName]\n                    : `${ipt.name} is required!`;\n            func(msg);\n        } else if (ipt.dataset.hasOwnProperty(mismatchNoticeName)) {//不符合pattern\n            let msg = ipt.dataset[mismatchNoticeName];\n            func(msg);\n        }\n    };\n    const get_fields = ()=> [].slice.call(form.querySelectorAll('input[pattern]'), 0);\n    let fields = get_fields();\n    if (!fields.length) {\n        submitCallback && submitCallback(form, null);\n        return;\n    }\n    //onInput\n    fields.forEach(ipt=>ipt.addEventListener('input', e=>e.currentTarget.setCustomValidity('')));\n    //onSubmit\n    form.querySelector(submitTriggerTarget).addEventListener(submitTriggerEvent, e=>{\n        fields = get_fields();\n        let \n            obj = {}\n            ,bool = true\n        ;\n        while (fields.length) {\n            let ipt = fields.shift();\n            let fake = ipt.cloneNode();\n            if (ipt.type === 'number') fake.type = 'text'; //既支持数字键盘，又能使用原生验证\n            if (!fake.checkValidity()\n                && !fake.validity.valid //iphone6s、itouch5等机型会在valid的情况下checkValidity出错\n                ) {\n                show_alert(ipt);\n                if (e.currentTarget.type !== 'submit'\n                    && typeof ipt.reportValidity === 'function' //iphone6s等机型没有这个\n                )\n                    ipt.reportValidity();\n                bool = false;\n                break;\n            } else {\n                obj[ipt.name] = ipt.value;\n                ipt.setCustomValidity('');\n            }\n        }\n        bool && submitCallback && submitCallback(form, obj);\n    });\n}\n\n/**\n * 锁定屏幕，限制其响应划动事件\n * @memberOf mUtils.utils\n */\nclass ScrollLocker {\n    /**\n     * 构造方法\n     * @constructor\n     * @param  {Object} settings - 构造参数对象，可以设置ignores忽略对象列表等\n     * @return {void}\n     */\n    constructor(settings) {\n        this._cfg = Object.assign({\n            ignores: []\n        }, settings);\n        this._scr = this._onscroll.bind(this);\n    }\n    /**\n     * @private\n     */\n    _isIn(targetObj, obj) {\n        let\n            tobj = targetObj\n            ,cobj = obj\n        ;\n        if (tobj === cobj)\n            return true;\n        while (cobj.parentNode) {\n            if (tobj === cobj)\n                return true;\n            cobj = cobj.parentNode;\n        }\n        return false;\n    }\n    /**\n     * @private\n     */\n    _onscroll(e) {\n        let\n            currObj = e.target\n            ,ig = this._cfg.ignores\n        ;\n        for (let i=0, lng=ig.length; i<lng; i++) {\n            let igrObj = ig[i];\n            if ( !this._isIn(igrObj, currObj) ){\n                e.preventDefault();\n                break;\n            }\n        }\n    }\n    /**\n     * 执行锁定\n     */\n    lock() {\n        window.addEventListener('touchmove', this._scr, false);\n    }\n    /**\n     * 解除锁定\n     */\n    unlock() {\n        window.removeEventListener('touchmove', this._scr, false);\n    }\n}\n\nexport\n/**\n * @namespace utils\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    enable_html5_for_old,\n    check_appcache,\n    page_to_top,\n    write_CSS,\n    form_primary_valid,\n    ScrollLocker\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}