{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a87f860a93cd67e44804","webpack:///./src/index.js","webpack:///./src/object-assign-polyfill.js","webpack:///./src/env.js","webpack:///./src/lang.js","webpack:///./src/dom.js","webpack:///./src/format.js","webpack:///./src/event.js","webpack:///./src/time.js","webpack:///./src/url.js","webpack:///./src/utils.js"],"names":[],"mappings":"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","file":"mobile-utils.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mobile-utils\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mobile-utils\"] = factory();\n\telse\n\t\troot[\"mobile-utils\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a87f860a93cd67e44804\n **/","import osp from './object-assign-polyfill';  // eslint-disable-line no-unused-vars\nimport env from './env';\nimport * as lang from './lang';\nimport * as dom from './dom';\nimport * as event from './event';\nimport * as format from './format';\nimport * as time from './time';\nimport * as url from './url';\nimport * as utils from './utils';\n\n/**\n * the entry point\n * @namespace mUtils\n * @type {Object}\n */\nconst mUtils = {\n\tenv,\n\tlang,\n\tdom,\n\tevent,\n\tformat,\n\ttime,\n\turl,\n\tutils\n};\nexport default mUtils;\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\nif (typeof Object.assign != 'function') {\n  Object.assign = function(target) {\n    'use strict';\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n}\nvar o = Object.assign;\nexport default o;\n\n\n/** WEBPACK FOOTER **\n ** ./src/object-assign-polyfill.js\n **/","var\n    _default = {\n        ua: '',\n        version: null,\n        ios: false,\n        android: false,\n        windows: false,\n        blackberry: false,\n        weixin: false,\n        wVersion: null,\n        qq: false,\n        qVersion: null,\n        touchSupport: false,\n        hashSupport: false\n    },\n    env;\n\nif (typeof window === 'undefined') {\n    env = _default;\n} else {\n    let\n        _ua = navigator.userAgent,\n        _m = null,\n        _formatV = function(vstr, vdiv) {\n            let f = vstr.split(vdiv);\n            f = f.shift() + '.' + f.join('');\n            return f * 1;\n        },\n        _break = false\n    ;\n\n    env = Object.assign({}, _default, {\n        ua: _ua,\n        touchSupport: ('createTouch' in document),\n        hashSupport: !!('onhashchange' in window)\n    });\n\n    _m = _ua.match(/MicroMessenger\\/([\\.0-9]+)/);\n    if (_m != null) {\n        env.weixin = true;\n        env.wVersion = _formatV(_m[1], '.');\n    }\n\n    _m = _ua.match(/QQ\\/([\\d\\.]+)$/);\n    if (_m != null) {\n        env.qq = true;\n        env.qVersion = _formatV(_m[1], '.');\n    }\n\n    _m = _ua.match(/i(Pod|Pad|Phone)\\;?.*\\sOS\\s([\\_0-9]+)/);\n    if (_m != null) {\n        env.ios = true;\n        env.version = _formatV(_m[2], '_');\n        _break = true;\n    }\n\n    if (!_break) {\n        _m = _ua.match(/Windows\\sPhone\\sOS\\s([\\.0-9]+)/);\n        if (_m != null) {\n            env.windows = true;\n            env.version = _formatV(_m[1], '.');\n           _break = true;\n        }\n    }\n\n    if (!_break) {\n        let bb = {\n            a: _ua.match(/\\(BB1\\d+\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\n            b: _ua.match(/\\(BlackBerry\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/),\n            c: _ua.match(/^BlackBerry\\d+\\/([\\.0-9]+)\\s/),\n            d: _ua.match(/\\(PlayBook\\;\\s.*\\sVersion\\/([\\.0-9]+)\\s/)\n        };\n        for (let k in bb) {\n            if (bb[k] != null) {\n                _m = bb[k];\n                env.blackberry = true;\n                env.version = _formatV(_m[1], '.');\n                _break = true;\n            }\n        }\n    }\n} //end of else\n\n/**\n * 获取移动设备型号版本等环境信息\n * @type {Object}\n * @namespace env\n * @memberOf mUtils\n * @default {\n        ua,\n        version,\n        ios,\n        android,\n        windows,\n        blackberry,\n        weixin,\n        wVersion,\n        qq,\n        qVersion,\n        touchSupport,\n        hashSupport\n    }\n */\nexport default env;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/env.js\n **/","/**\n * 获取基于模板的文本值\n * @param  {String} tmpl - 文本模板，格式为 'hello{0},world{1}'\n * @param  {...String} args - 用于替换的若干参数\n * @return {String}\n * @memberOf mUtils.lang\n */\nconst read_i18n = (tmpl, ...args) => {\n\tlet rtn = tmpl.substr(0);\n\tif (args.length) {\n\t\tlet flagArr = tmpl.match(/\\{\\d+\\}/g); //{1},{0},{2}...\n\t\tif (flagArr) {\n\t\t\t//剔除数组重复项用\n\t\t\tlet realNeedLeng = flagArr.filter( (ele, idx)=>flagArr.indexOf(ele)==idx ).length;\n\t\t\tif (args.length != realNeedLeng){\n\t\t\t\tthrow new Error(`[i18n] Error: ${tmpl} need ${realNeedLeng} parameters, but ${args.length} received`);\n\t\t\t}\n\t\t\tfor (let ii = 0; ii < realNeedLeng; ii++)\n\t\t\t\trtn = rtn.replace( new RegExp(\"\\\\{\" + ii + \"\\\\}\", \"g\"), args[ii] );\n\t\t}\n\t}\n\treturn rtn;\n};\n\nexport \n/**\n * @namespace lang\n * @memberOf mUtils\n * @type {Object}\n */\n{\n\tread_i18n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lang.js\n **/","import {trim} from './format';\n\n/**\n * 判断元素是否有指定className\n * @param  {Element} ele\n * @param  {String} clsName\n * @return {Boolean}\n * @memberOf mUtils.dom\n */\nconst has_class = (ele, clsName) => (new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g')).test(ele.className);\n\nconst _ensure_domele = ele => {\n    if (typeof ele === 'string') {\n        try {\n            return document.querySelector(ele);\n        } catch (ex) {}\n    }\n    return ele;\n}\n\n/**\n * 删除className\n * @param  {Element} ele\n * @param  {String} clsName\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst remove_class = (ele, clsName) => {\n    let _ele = _ensure_domele(ele);\n    let re = new RegExp('(^|\\\\s)+(' + clsName + ')(\\\\s|$)+', 'g');\n    try {\n        _ele.className = _ele.className.replace(re, \"$1$3\");\n    } catch (ex) {}\n    re = null;\n}\n\n/**\n * 添加className\n * @param  {Element} ele\n * @param  {String} clsName\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst add_class = (ele, clsName) => {\n    let _ele = _ensure_domele(ele);\n    remove_class(_ele, clsName);\n    _ele.className = trim(_ele.className + ' ' + clsName);\n}\n\n/**\n * 获取计算样式\n * @param  {Element} [ele=null] - 目标元素\n * @param  {String} [styleName=null] - 样式名\n * @return {String}\n * @memberOf mUtils.dom\n */\nconst real_style = (ele=null, styleName=null) => {\n    if (!ele || !styleName) return;\n    let rtn = '';\n    try {\n        rtn = (typeof(window.getComputedStyle) == 'undefined')\n            ? ele.currentStyle[styleName]\n            : window.getComputedStyle(ele, null)[styleName];\n    } catch (ex) {\n        rtn = ele.style[styleName];\n    }\n    return rtn.replace(/px$/, '');\n};\n\n/**\n * 在指定元素内的最末插入html\n * @param  {Element} dom\n * @param  {String} html\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst append_HTML = (dom, html) => dom.insertAdjacentHTML('beforeEnd', html);\n\n/**\n * 在指定元素内的开始插入html\n * @param  {Element} dom\n * @param  {String} html\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst prepend_HTML = (dom, html) => dom.insertAdjacentHTML('afterBegin', html);\n\n/**\n * 根据特征值找到一段html中其所在的tag范围\n * @param  {String} p_featureStr - 特征值\n * @param  {String} p_html - 作为查找范围的html\n * @return {Object} {start, end}\n * @memberOf mUtils.dom\n */\nconst tag_range_from_HTML = (p_featureStr, p_html) => {\n    let\n        t = p_html + '',\n        p = p_featureStr,\n        eStart = t.indexOf(p),\n        eEnd = null,\n        temp = null,\n        tagMth = null,\n        tagName = null,\n        closeTag = null,\n        m = null;\n    if (eStart == -1) {\n        return null;\n    }\n    temp = t.substr(0, eStart + p.length);\n    eStart = temp.lastIndexOf('<');\n    temp = t.substr(eStart);\n    tagMth = temp.match(/^\\<([a-zA-Z1-6]+)[\\s\\>]/);\n    tagName = tagMth[1];\n    if (new RegExp('^\\\\<' + tagName + '[^\\\\>]*\\\\/\\\\>').test(temp)) { /* 直接关闭 <tag /> */\n        closeTag = '/>';\n        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\n    } else {\n        closeTag = '</' + tagName + '>';\n        eEnd = eStart + temp.indexOf(closeTag) + closeTag.length;\n        temp = t.substring(eStart + tagName.length + temp.indexOf('>'), eEnd);\n        m = temp.match(new RegExp('\\\\<' + tagName + '[^\\/\\>]*[^\\\\/]?\\\\>', 'g'));\n        if (m != null) { /*是否嵌套了相同元素*/\n            var lng = m.length;\n            while (lng--) {\n                eEnd += t.substr(eEnd).indexOf(closeTag) + closeTag.length;\n            }\n        }\n    }\n    return {\n        start: eStart,\n        end: eEnd\n    };\n};\n\n\n\n/**\n * 为元素附加2d移动的css3样式\n * @param  {Element} dom - 目标元素\n * @param  {Number} x - x轴上移动的px值\n * @param  {Number} y - y轴上移动的px值\n * @param  {Number} [duration=null] - 持续的毫秒数\n * @return {void}\n * @memberOf mUtils.dom\n */\nconst transformXY = (dom, x=0, y=0, duration=null) => {\n    let\n        _vendor = (/webkit/i).test(navigator.appVersion) ? \"webkit\": (/firefox/i).test(navigator.userAgent) ? \"Moz\": \"opera\" in window ? \"O\": (/MSIE/i).test(navigator.userAgent) ? \"ms\": \"\",\n        _has3d = \"WebKitCSSMatrix\" in window && \"m11\" in new WebKitCSSMatrix(),\n        _trnOpen = \"translate\" + (_has3d ? \"3d(\": \"(\"),\n        _trnClose = _has3d ? \",0)\": \")\"\n    ;\n    if (duration !== null\n        && typeof duration === 'number'\n        && duration>=0) {\n        dom.style[_vendor + 'TransitionDuration'] = duration*1000 + 's';\n    }\n    dom.style[_vendor + 'Transform'] = `${_trnOpen}${x}px,${y}px${_trnClose}`;\n};\n\nexport\n/**\n * @namespace dom\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    has_class,\n    add_class,\n    remove_class,\n    real_style,\n    append_HTML,\n    prepend_HTML,\n    tag_range_from_HTML,\n    transformXY\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom.js\n **/","/**\n * 字符串反转\n * @param  {String} str\n * @return {String}\n * @memberOf mUtils.format\n */\nconst reverse_str = str => str.split('').reverse().join('');\n\n/**\n * 格式化手机号等，按位插入分隔符\n * @param  {Number|String} target - 目标数字或字符串\n * @param  {Number} [step=4] - 插入分隔符的相隔位数\n * @param  {Boolean} [needReverse=true] - 是否要从右向左进行插入\n * @param  {String} [div=\" \"] - 分隔符\n * @return {String}\n * @memberOf mUtils.format\n */\nconst step_str = (target, step=4, needReverse=false, div=\" \") => {\n\tlet\n\t\tnStr = target.toString(),\n\t\trst = nStr.replace(/\\s/g, ''),\n\t\trTarget = needReverse ? reverse_str(rst) : rst,\n\t\tre = new RegExp('(.{'+ step +'})', 'g');\n\trst = rTarget.replace(re, `$1${div}`);\n\trst = needReverse ? reverse_str(rst) : rst;\n\trst = trim(rst);\n\trst = rst.replace(new RegExp('^\\\\' + div), '');\n\treturn rst;\n};\n\n/**\n * 添加千分位的数字分结号\n * @param  {Number} num - 目标数字\n * @param  {Number} [fix=null] - 如果同时要对小数限制位数则指定其位数\n * @return {String}\n * @memberOf mUtils.format\n */\nconst knot_num = (num, fix=null) => {\n\tlet n = num;\n\tif (fix !== null && fix >= 0) {\n\t\tn = limit_decimal(n, fix);\n\t}\n\tlet\n\t\tnumParts = n.toString().split('.'),\n\t\tintegralPart = numParts[0],\n\t\tdecimalPart = numParts.length > 1 ? numParts[1] : null,\n\t\tformatedIntegral = step_str(integralPart, 3, true, ','),\n\t\trst;\n\tif (!decimalPart) return formatedIntegral;\n\trst = `${formatedIntegral}.${decimalPart}`;\n\treturn rst;\n};\n\n/**\n * 限制小数位\n * @param  {Number} num\n * @param  {Number} [fix=2]\n * @return {String}\n * @memberOf mUtils.format\n */\nconst limit_decimal = (num, fix=2) => {\n\tlet v = parseFloat(num);\n\tif (isNaN(v)) {\n\t\tthrow new Error(`[limit_decimal] ${num} is not a number`);\n\t}\n\treturn v.toFixed(fix);\n};\n\n\n/**\n * 补全数字左侧的0\n * @param  {Number} num - 目标数字\n * @param  {Number} [leng=2] - 最终位数\n * @return {String}\n * @memberOf mUtils.format\n */\nconst num_pad_left = function(num, leng = 2) {\n    let \n\t\tlng = leng,\n\t\tzeroStr = '',\n\t\tn = num.toString();\n    while (lng--) {\n\t\tzeroStr += '0';\n    }\n    if (n.length < leng)\n\t\treturn zeroStr.substr(0, leng - n.length) + n;\n    return n;\n};\n\n/**\n * 去首尾空格\n * @param  {String} str\n * @return {String}\n * @memberOf mUtils.format\n */\nconst trim = str => str.replace(/(^\\s+|\\s+$)/g, '');\n\nexport \n/**\n * @namespace format\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    reverse_str,\n    step_str,\n    knot_num,\n    num_pad_left,\n    limit_decimal,\n    trim,\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/format.js\n **/","import env from './env';\nimport {append_HTML} from './dom';\n\n/**\n * 监听CSS3 transition动画结束\n * @param  {Element} dom\n * @param  {Function} callback\n * @return {void}\n * @memberOf mUtils.event\n */\nconst on_tweened = (dom, callback) =>\n    dom.addEventListener('webkitTransitionEnd', function fn(e) {\n        e.currentTarget.removeEventListener('webkitTransitionEnd', fn);\n        callback.call(null, e)\n    });\n\n/**\n * 监听页面加载\n * @description 如果监听时已加载则直接执行回调\n * @param  {Function} callback\n * @return {void}\n * @memberOf mUtils.event\n */\nconst on_page_loaded = callback => {\n    if (/interactive|complete/.test(document.readyState)) {\n        callback.call(null); /*已加载过，直接执行*/\n        return;\n    }\n    window.addEventListener('DOMContentLoaded', function fn(e) {\n        e.currentTarget.removeEventListener('DOMContentLoaded', fn);\n        callback.call(null, e)\n    });\n};\n\n/**\n * 监听设备方向改变\n * @param  {Function} callback\n * @return {void}\n * @memberOf mUtils.event\n */\nconst on_page_rotated = callback => window.addEventListener('orientationchange', callback);\n\n/**\n * 模拟点击事件\n * @param  {Function} callback - 回调函数\n * @param  {String} [domId='fakeClick'] - 模拟载体元素的id\n * @return {void}\n * @memberOf mUtils.event\n */\nconst fake_click = (callback, domId='fakeClick') => {\n    append_HTML(\n        document.getElementsByTagName('body')[0],\n        `<a href=\"javascript:void(0)\" id=\"${domId}\" style=\"opacity:.01\"></a>`\n    );\n    let\n        $a = document.getElementById(domId),\n        evt;\n    $a.addEventListener(\"click\", function(e) {\n        e.preventDefault();\n        callback();\n    });\n    if (document.createEvent) {\n        evt = document.createEvent(\"MouseEvents\");\n        if (evt.initMouseEvent) {\n            evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n            $a.dispatchEvent(evt);\n        }\n    }\n    $a.parentNode.removeChild($a);\n};\n\n/**\n * 兼容性的监听select更改事件\n * @param  {Element} sel - 目标select元素\n * @param  {Function} callback - 回调函数\n * @return {void}\n * @memberOf mUtils.event\n */\nconst listen_select_change = (sel, callback) => {\n    sel.dataset['lisOldselidx'] = sel.selectedIndex;\n    var _cbk = function(e) {\n        if (parseInt(sel.dataset['lisOldselidx']) != sel.selectedIndex) {\n            sel.dataset['lisOldselidx'] = sel.selectedIndex;\n            callback(e);\n        }\n    };\n    sel.addEventListener('change', _cbk);\n    sel.addEventListener('focus', _cbk);\n    sel.addEventListener('blur', _cbk);\n    if (env.ios && env.version >= 7) {\n        sel.addEventListener('click', _cbk);\n    }\n};\n\n/**\n * 判断时间是否发生在指定元素范围内\n * @param {Element} targetDom - 指定元素\n * @return {Boolean}\n * @memberOf mUtils.event\n */\nconst is_event_on_target = targetDom => {\n    return function(e) {\n        var tgt = e.target;\n        if ( tgt === targetDom ) return true;\n        while (tgt.parentElement !== null) {\n            tgt = tgt.parentElement;\n            if ( is_event_on_target(targetDom)({target: tgt}) ) return true;\n        }\n        return false;\n    }\n};\n\nexport\n/**\n * @namespace event\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    on_tweened,\n    on_page_loaded,\n    on_page_rotated,\n    listen_select_change,\n    fake_click,\n    is_event_on_target,\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/event.js\n **/","import {num_pad_left} from './format';\n\nexport const\n\t_aSecond = 1000,\n    _aMinute = 60 * _aSecond,\n    _aHour = 60 * _aMinute,\n    _aDay = 24 * _aHour;\n\n// export function local_date(dateStr=null) {\n//     let\n//         d = dateStr ? new Date(dateStr) : new Date,\n//         timeOffset = d.getTimezoneOffset() * _aMinute,\n//         localDate = new Date(d.getTime() + timeOffset);\n//     return localDate;\n// }\n\n/**\n * 将字符串转化为yyyymmdd格式\n * @param  {Date} date - 目标时间\n * @param  {String} [div='-'] - 分隔符\n * @return {String}\n * @memberOf mUtils.time\n */\nfunction date_to_YMD(date, div='-') {\n    return [date.getFullYear(), date.getMonth()+1, date.getDate()].map(num => num_pad_left(num)).join(div);\n}\n\n/**\n * 取得某个时间\n * @param  {Object} [setting] - {偏移值 offset, 基准时间 from, 是否置为0点 zeroTime, 是否置为1日 clean}\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction getTime(setting) {\n    setting = Object.assign({\n        offset: 0,\n        zeroTime: false,\n        clean: false,\n        from: new Date\n    }, setting);\n    let\n        {\n            offset,\n            zeroTime,\n            clean,\n            from\n        } = setting,\n        d = new Date(from);\n    if (zeroTime) {\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n    }\n    if (clean) {\n        d.setDate(1); /*注意顺序 否则2月可能在遇到30号时出错*/\n    }\n    if (offset) {\n        d.setTime(d.getTime() + offset);\n    }\n    return d;\n}\n\n/**\n * 取得当天\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction today(zeroTime=true) {return getTime({zeroTime});}\n\n/**\n * 取得明天\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction tomorrow(zeroTime=true) {return getTime({zeroTime, offset: _aDay});}\n\n/**\n * 取得昨天\n * @param  {Boolean} [zeroTime=true] - 是否置为0点\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction yesterday(zeroTime=true) {return getTime({zeroTime, offset: -_aDay});}\n\n/**\n * 取得一个某年某月1号0时的干净日期\n * @param  {Number} [p_month=1]\n * @param  {Number} [p_year=今年]\n * @return {Date}\n * @memberOf mUtils.time\n */\nfunction get_clean_date(p_month=1, p_year=(new Date).getFullYear()) {\n    let d = getTime({clean: true, zeroTime: true});\n    d.setFullYear(p_year);\n    d.setMonth(p_month-1);\n    return d;\n}\n\n/**\n * 取得某月的日历\n * @param  {Number} p_year\n * @param  {Number} [p_month=1]\n * @return {Array} 星期-日期 的二维数组: 周日0,周一1...\n * @memberOf mUtils.time\n */\nfunction calender(p_month=1, p_year=(new Date).getFullYear()) {\n    let\n        matrix = [\n            []\n        ],\n        putDay = function(d, isLastRow = false) {\n            matrix[matrix.length - 1].push(d == null ? null : d.toISOString());\n            if (!isLastRow && matrix[matrix.length - 1].length == 7) {\n                matrix[matrix.length] = [];\n            }\n        },\n        day = get_clean_date(p_month, p_year);\n    for (var i = 0, lng = day.getDay(); i < lng; i++) {\n        putDay(null);\n    }\n    while (day.getMonth() == p_month-1) {\n        putDay(day);\n        day.setDate(day.getDate() + 1);\n    }\n    if (!matrix[matrix.length - 1].length) {\n        matrix.pop();\n    }\n    while (matrix[matrix.length - 1].length < 7) {\n        putDay(null, true);\n    }\n    return matrix;\n}\n\n/**\n * 取得开始-结束的日期范围\n * @param  {Number} rangeNums - 开始到结束的天数\n * @param  {Date} [from=今天] - 基准日期\n * @return {Object}\n * @memberOf mUtils.time\n */\nfunction date_range(rangeNums, from = today()) {\n    let\n        days = parseInt(rangeNums) * _aDay,\n        endDay = getTime({from, offset: days}),\n        arr = [from, endDay];\n    arr.sort((a,b)=>a-b);\n    return {\n        start: arr[0],\n        end: arr[1]\n    };\n}\n\n/**\n * 是否闰年\n * @param  {Number} [year=null] 年份\n * @return {Boolean}\n * @memberOf mUtils.time\n */\nfunction is_leap_year(year=null) {\n    let\n        currY = (new Date).getFullYear(),\n        y = year || currY;\n    y = parseInt(y);\n    if (isNaN(y)) y = currY;\n    return !!(((y % 4 == 0) && (y % 100 != 0)) || (y % 400 == 0));\n}\n\nexport\n/**\n * @namespace time\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    date_to_YMD,\n    getTime,\n    today,\n    tomorrow,\n    yesterday,\n    get_clean_date,\n    calender,\n    date_range,\n    is_leap_year,\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/time.js\n **/","/**\n * @private\n */\nfunction _map2query(q, separator) {\n    let\n        u = encodeURIComponent,\n        k,\n        r = [],\n        d = separator ? separator : '&';\n    for (k in q) r.push(u(k) + '=' + u(q[k]));\n    return r.join(d);\n}\n/**\n * @private\n */\nfunction _split2(s, separator) {\n    let i = s.indexOf(separator);\n    return i == -1 ? [s, ''] : [s.substring(0, i), s.substring(i + 1)];\n}\n\n/**\n * 将query字符串转换为object\n * @param  {String} [query=当前url的query] 给定的query字符串\n * @return {Object}\n * @memberOf mUtils.url\n */\nconst query_params = (query = window.location.search.substring(1)) => {\n\tif (!query) return null;\n    let obj = {};\n\tquery.split('&').forEach(function(params) {\n\t\tlet\n\t\t\tp = params.split('='),\n\t\t\tkey = p[0],\n\t\t\tvlu = decodeURIComponent(p[1]);\n\t\tobj[key] = vlu;\n\t});\n    return obj;\n};\n\n\n/**\n * 将hash部分转化为object\n * @memberOf mUtils.url\n */\nclass URLHash {\n    /**\n     * 构造方法\n     * @constructor\n     * @param  {String} [href=当前URL的hash]\n     * @param  {String} [hashChar='#']\n     * @param  {String} [separator=\"&\"]\n     * @return {Object}\n     */\n    constructor(href=window.location.href, hashChar='#', separator=\"&\") {\n        let\n            h = href,\n            s = separator,\n            uArr = _split2(h, hashChar),\n            hash_part = uArr[1];\n        this.map = {};\n        this.separator = separator;\n        this.hashChar = hashChar;\n        if (hash_part) {\n            let arr = hash_part.split(s);\n            for (let i = 0; i < arr.length; i++) {\n                let s2 = arr[i];\n                let o = _split2(s2, '=');\n                this.map[o[0]] = o[1];\n            }\n        }\n        this.size = function() {\n            return this.keys().length;\n        };\n        this.keys = function() {\n            let k = [];\n            for (let m in this.map)\n                if (m != '_hashfoo_') k.push(m);\n            return k;\n        };\n        this.values = function() {\n            let v = [];\n            for (let m in this.map)\n                if (m != '_hashfoo_') v.push(this.map[m]);\n            return v;\n        };\n        this.put('_hashfoo_', Math.random());\n    } //end of constructor\n    /**\n     * 取得某个值\n     * @param  {String} key\n     * @return {String}\n     */\n    get(key) {\n        return this.map[key] || null;\n    }\n    /**\n     * 放置新值\n     * @param  {String} key\n     * @param  {Any} value\n     * @return {void}\n     */\n    put(key, value) {\n        this.map[key] = value;\n    }\n    /**\n     * 一次性设置多个值\n     * @param  {Object} keyValues\n     * @return {void}\n     */\n    putAll(keyValues) {\n        if (typeof(keyValues) == 'object')\n            for (let item in keyValues)\n                this.map[item] = keyValues[item];\n    }\n    /**\n     * 删除某个值\n     * @param  {String} key\n     * @return {void}\n     */\n    remove(key) {\n        if (this.map[key]) {\n            let newMap = {};\n            for (let item in this.map)\n                if (item != key) newMap[item] = this.map[item];\n            this.map = newMap;\n        }\n    }\n    /**\n     * 转换为字符串\n     * @return {String}\n     */\n    toString() {\n        let m2 = {};\n        for (let m in this.map)\n            if (m != '_hashfoo_') m2[m] = this.map[m];\n        return _map2query(m2, \"&\");\n    }\n    /**\n     * 克隆一个实例\n     * @return {URLHash}\n     */\n    clone() {\n        return new URLHash('foo#' + this.toString(), this.hashChar, this.separator);\n    }\n}\n\nexport\n/**\n * @namespace url\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    query_params,\n    URLHash,\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/url.js\n **/","/**\n * 确保老旧的设备可以使用html5的新元素\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction enable_html5_for_old() {\n    let tags = 'abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,fieldset,figure,figcaption,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,small,time,video,legend';\n    tags.split(',').forEach(ele=>document.createElement(ele));\n    write_CSS(tags + '{display:block;}');\n}\n\n/**\n * 检查并监听applicationCache的更新情况\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction check_appcache() {\n\tlet\n\t\t_appCache = window.applicationCache,\n        support = !!_appCache;\n    if (!support) return;\n    _appCache.addEventListener(\"updateready\", () => {\n        if (_appCache.status == _appCache.UPDATEREADY) {\n            try {\n                _appCache.swapCache();\n            } catch (ex1) {}\n            let\n                {origin, pathname, hash} = location,\n                rnd = Math.random();\n            location.href = `${origin}${pathname}?rnd=${rnd}${hash}`;\n        }\n    }, false);\n}\n\n/**\n * 将页面移动至指定位置\n * @param  {Number} [top]\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction page_to_top(top = -1) {\n    document.getElementsByTagName('body')[0].scrollTop = top;\n    window.scrollTo(0, top);\n}\n\n/**\n * 在页面中动态写入css\n * @param  {String} css - css字符串\n * @return {void}\n * @memberOf mUtils.utils\n */\nfunction write_CSS(css) {\n    var s = document.createElement('style');\n    s.innerHTML = css;\n    try {\n        s.appendChild(document.createTextNode(css));\n    } catch (ex) {\n        s.styleSheet.cssText = css;\n    }\n    document.getElementsByTagName('head')[0].appendChild(s);\n}\n\n/**\n * 利用html5的原生pattern校验，对自定义了规则的表单项提示错误信息\n * @param  {Element} form\n * @param  {Function} submitCallback - 校验成功后的回掉函数，参数为 (form, fieldsObj)\n * @param  {String} [submitTriggerEvent='click'] - 触发校验的事件\n * @param  {String} [submitTriggerTarget='.submit'] - 触发校验的目标元素上下文\n * @param  {String} [mismatchNoticeName='mismatch'] - 与pattern属性匹配的自定义提示语data-属性\n * @return {void}\n */\nfunction form_primary_valid(\n    form, \n    submitCallback = null,\n    submitTriggerEvent = 'click',\n    submitTriggerTarget = '.submit',\n    mismatchNoticeName = 'mismatch')\n{\n    const get_fields = ()=> [].slice.call(form.querySelectorAll('input[pattern]'), 0);\n    let fields = get_fields();\n    if (!fields.length) {\n        submitCallback && submitCallback(form, null);\n        return;\n    }\n    //onInput\n    fields.forEach(ipt=>ipt.addEventListener('input', e=>e.currentTarget.setCustomValidity('')));\n    //onSubmit\n    form.querySelector(submitTriggerTarget).addEventListener(submitTriggerEvent, e=>{ // eslint-disable-line no-unused-vars\n        fields = get_fields();\n        let \n            obj = {}\n            ,bool = true\n        ;\n        while (fields.length) {\n            let ipt = fields.shift();\n            let fake = ipt.cloneNode();\n            if (ipt.type === 'number') fake.type = 'text'; //既支持数字键盘，又能使用原生验证\n            if (!fake.checkValidity()) {\n                if (ipt.hasAttribute('required') && ipt.validity.valueMissing) //空缺\n                    ipt.setCustomValidity('');\n                else if (ipt.dataset.hasOwnProperty(mismatchNoticeName)) //不符合pattern\n                    ipt.setCustomValidity(ipt.dataset[mismatchNoticeName]);\n                bool = false;\n                break;\n            } else {\n                obj[ipt.name] = ipt.value;\n                ipt.setCustomValidity('');\n            }\n        }\n        bool && submitCallback && submitCallback(form, obj);\n    });\n}\n\n/**\n * 锁定屏幕，限制其响应划动事件\n * @memberOf mUtils.utils\n */\nclass ScrollLocker {\n    /**\n     * 构造方法\n     * @constructor\n     * @param  {Object} settings - 构造参数对象，可以设置ignores忽略对象列表等\n     * @return {void}\n     */\n    constructor(settings) {\n        this._cfg = Object.assign({\n            ignores: []\n        }, settings);\n        this._scr = this._onscroll.bind(this);\n    }\n    /**\n     * @private\n     */\n    _isIn(targetObj, obj) {\n        let\n            tobj = targetObj\n            ,cobj = obj\n        ;\n        if (tobj === cobj)\n            return true;\n        while (cobj.parentNode) {\n            if (tobj === cobj)\n                return true;\n            cobj = cobj.parentNode;\n        }\n        return false;\n    }\n    /**\n     * @private\n     */\n    _onscroll(e) {\n        let\n            currObj = e.target\n            ,ig = this._cfg.ignores\n        ;\n        for (let i=0, lng=ig.length; i<lng; i++) {\n            let igrObj = ig[i];\n            if ( !this._isIn(igrObj, currObj) ){\n                e.preventDefault();\n                break;\n            }\n        }\n    }\n    /**\n     * 执行锁定\n     */\n    lock() {\n        window.addEventListener('touchmove', this._scr, false);\n    }\n    /**\n     * 解除锁定\n     */\n    unlock() {\n        window.removeEventListener('touchmove', this._scr, false);\n    }\n}\n\nexport\n/**\n * @namespace utils\n * @memberOf mUtils\n * @type {Object}\n */\n{\n    enable_html5_for_old,\n    check_appcache,\n    page_to_top,\n    write_CSS,\n    form_primary_valid,\n    ScrollLocker\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}